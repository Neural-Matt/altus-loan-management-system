"use strict";(self.webpackChunkaltus_loan_application_portal=self.webpackChunkaltus_loan_application_portal||[]).push([[239,408],{239:(e,t,n)=>{n.d(t,{CalculatorStep:()=>Me});var a=n(5043),o=n(4858),r=n(1850),i=n(624),s=n(3969),l=n(5895),c=n(4799),d=n(298),m=n(6370),u=n(2332),p=n(9379),h=n(45),A=n(8387),y=n(1807),x=n(7194),v=n(8736),g=n(8700),f=n(8128),b=n(1612),j=n(8301),M=n(9857),w=n(6061);function R(e){return(0,w.Ay)("MuiInputAdornment",e)}const S=(0,M.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var P=n(579);const T=["children","className","component","disablePointerEvents","disableTypography","position","variant"];var k;const C=(0,f.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,x.A)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,b.A)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(S.positionStart,"&:not(.").concat(S.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}})),N=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:r,component:i="div",disablePointerEvents:s=!1,disableTypography:c=!1,position:d,variant:m}=n,u=(0,h.A)(n,T),f=(0,g.A)()||{};let b=m;m&&f.variant,f&&!b&&(b=f.variant);const M=(0,p.A)((0,p.A)({},n),{},{hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:s,position:d,variant:b}),w=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:a,position:o,size:r,variant:i}=e,s={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,x.A)(o)),i,a&&"hiddenLabel",r&&"size".concat((0,x.A)(r))]};return(0,y.A)(s,R,t)})(M);return(0,P.jsx)(v.A.Provider,{value:null,children:(0,P.jsx)(C,(0,p.A)((0,p.A)({as:i,ownerState:M,className:(0,A.A)(w.root,r),ref:t},u),{},{children:"string"!==typeof o||c?(0,P.jsxs)(a.Fragment,{children:["start"===d?k||(k=(0,P.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,o]}):(0,P.jsx)(l.A,{color:"textSecondary",children:o})}))})});var z=n(4527),I=n(2579),E=n(8065),H=n(9e3);function L(e){return(0,w.Ay)("MuiTableContainer",e)}(0,M.A)("MuiTableContainer",["root"]);const Y=["className","component"],B=(0,f.Ay)("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),F=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableContainer"}),{className:a,component:o="div"}=n,r=(0,h.A)(n,Y),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,y.A)({root:["root"]},L,t)})(i);return(0,P.jsx)(B,(0,p.A)({ref:t,as:o,className:(0,A.A)(s.root,a),ownerState:i},r))});const _=a.createContext();function W(e){return(0,w.Ay)("MuiTable",e)}(0,M.A)("MuiTable",["root","stickyHeader"]);const O=["className","component","padding","size","stickyHeader"],Z=(0,f.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((0,b.A)(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,p.A)((0,p.A)({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),D="table",q=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTable"}),{className:o,component:r=D,padding:i="normal",size:s="medium",stickyHeader:l=!1}=n,c=(0,h.A)(n,O),d=(0,p.A)((0,p.A)({},n),{},{component:r,padding:i,size:s,stickyHeader:l}),m=(e=>{const{classes:t,stickyHeader:n}=e,a={root:["root",n&&"stickyHeader"]};return(0,y.A)(a,W,t)})(d),u=a.useMemo(()=>({padding:i,size:s,stickyHeader:l}),[i,s,l]);return(0,P.jsx)(_.Provider,{value:u,children:(0,P.jsx)(Z,(0,p.A)({as:r,role:r===D?null:"table",ref:t,className:(0,A.A)(m.root,o),ownerState:d},c))})});const G=a.createContext();function U(e){return(0,w.Ay)("MuiTableHead",e)}(0,M.A)("MuiTableHead",["root"]);const X=["className","component"],V=(0,f.Ay)("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),K={variant:"head"},J="thead",Q=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableHead"}),{className:a,component:o=J}=n,r=(0,h.A)(n,X),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,y.A)({root:["root"]},U,t)})(i);return(0,P.jsx)(G.Provider,{value:K,children:(0,P.jsx)(V,(0,p.A)({as:o,className:(0,A.A)(s.root,a),ref:t,role:o===J?null:"rowgroup",ownerState:i},r))})});function $(e){return(0,w.Ay)("MuiTableRow",e)}const ee=(0,M.A)("MuiTableRow",["root","selected","hover","head","footer"]),te=["className","component","hover","selected"],ne=(0,f.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((0,b.A)(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(ee.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(ee.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))}}}})),ae="tr",oe=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableRow"}),{className:o,component:r=ae,hover:i=!1,selected:s=!1}=n,l=(0,h.A)(n,te),c=a.useContext(G),d=(0,p.A)((0,p.A)({},n),{},{component:r,hover:i,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),m=(e=>{const{classes:t,selected:n,hover:a,head:o,footer:r}=e,i={root:["root",n&&"selected",a&&"hover",o&&"head",r&&"footer"]};return(0,y.A)(i,$,t)})(d);return(0,P.jsx)(ne,(0,p.A)({as:r,ref:t,className:(0,A.A)(m.root,o),role:r===ae?null:"row",ownerState:d},l))}),re=oe;function ie(e){return(0,w.Ay)("MuiTableCell",e)}const se=(0,M.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),le=["align","className","component","padding","scope","size","sortDirection","variant"],ce=(0,f.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,x.A)(n.size))],"normal"!==n.padding&&t["padding".concat((0,x.A)(n.padding))],"inherit"!==n.align&&t["align".concat((0,x.A)(n.align))],n.stickyHeader&&t.stickyHeader]}})((0,b.A)(e=>{let{theme:t}=e;return(0,p.A)((0,p.A)({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(se.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})})),de=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableCell"}),{align:o="inherit",className:r,component:i,padding:s,scope:l,size:c,sortDirection:d,variant:m}=n,u=(0,h.A)(n,le),v=a.useContext(_),g=a.useContext(G),f=g&&"head"===g.variant;let b;b=i||(f?"th":"td");let M=l;"td"===b?M=void 0:!M&&f&&(M="col");const w=m||g&&g.variant,R=(0,p.A)((0,p.A)({},n),{},{align:o,component:b,padding:s||(v&&v.padding?v.padding:"normal"),size:c||(v&&v.size?v.size:"medium"),sortDirection:d,stickyHeader:"head"===w&&v&&v.stickyHeader,variant:w}),S=(e=>{const{classes:t,variant:n,align:a,padding:o,size:r,stickyHeader:i}=e,s={root:["root",n,i&&"stickyHeader","inherit"!==a&&"align".concat((0,x.A)(a)),"normal"!==o&&"padding".concat((0,x.A)(o)),"size".concat((0,x.A)(r))]};return(0,y.A)(s,ie,t)})(R);let T=null;return d&&(T="asc"===d?"ascending":"descending"),(0,P.jsx)(ce,(0,p.A)({as:b,ref:t,className:(0,A.A)(S.root,r),"aria-sort":T,scope:M,ownerState:R},u))}),me=de;function ue(e){return(0,w.Ay)("MuiTableBody",e)}(0,M.A)("MuiTableBody",["root"]);const pe=["className","component"],he=(0,f.Ay)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Ae={variant:"body"},ye="tbody",xe=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableBody"}),{className:a,component:o=ye}=n,r=(0,h.A)(n,pe),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,y.A)({root:["root"]},ue,t)})(i);return(0,P.jsx)(G.Provider,{value:Ae,children:(0,P.jsx)(he,(0,p.A)({className:(0,A.A)(s.root,a),as:o,ref:t,role:o===ye?null:"rowgroup",ownerState:i},r))})});var ve=n(5272),ge=n(7305),fe=n(8555),be=n(3267),je=n(8408);const Me=()=>{var e,t;const{loan:n,setLoan:p}=(0,be.l)(),[h,A]=(0,a.useState)(null),[y,x]=(0,a.useState)("instant-salary-advance"),[v,g]=(0,a.useState)(!1),f=(0,je.Pj)(),{control:b,handleSubmit:j,watch:M,reset:w}=(0,o.mN)({defaultValues:{amount:n.amount||0,tenureMonths:n.tenureMonths||12},resolver:(0,r.u)(i.i),mode:"onBlur"});(0,a.useEffect)(()=>{w({amount:n.amount||0,tenureMonths:n.tenureMonths||12})},[n,w]);const R=e=>(e=>{A(null);try{if(!e.amount||!e.tenureMonths)return void p({amount:e.amount,tenureMonths:e.tenureMonths,productCode:y,emiResult:void 0});const t=(0,je.computeLocalLoanEstimate)({principal:e.amount,tenureMonths:e.tenureMonths,loanType:y});p({amount:e.amount,tenureMonths:e.tenureMonths,productCode:y,emiResult:{monthlyInstallment:t.monthlyInstallment,totalInterest:t.totalInterest,totalPayable:t.totalPayable,schedule:t.schedule.map(e=>({month:e.month,openingBalance:e.openingBalance,interestPortion:e.interestPortion,principalPortion:e.principalPortion,installment:e.installment,closingBalance:e.closingBalance}))}})}catch(t){A(t.message||"Calculation failed")}})(e);window.__calculatorStepSubmit=j(R,()=>!1);const S=(0,a.useRef)(null),T=M();(0,a.useEffect)(()=>{S.current&&window.clearTimeout(S.current),S.current=window.setTimeout(()=>{j(R)()},250)},[T.amount,T.tenureMonths,y]);const k=e=>"number"!==typeof e||isNaN(e)?"-":e.toLocaleString();return(0,P.jsxs)(s.A,{children:[(0,P.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Loan Calculator"}),(0,P.jsxs)(c.A,{elevation:0,sx:{mb:3,p:{xs:2.5,sm:3},borderRadius:3,position:"relative",background:"linear-gradient(135deg, #011A41 0%, #07306E 55%, #73B62B 140%)",color:"#FFFFFF",overflow:"hidden",textAlign:"center"},children:[(0,P.jsx)(s.A,{sx:{position:"absolute",inset:0,opacity:.15,background:"radial-gradient(circle at 85% 15%, #FFFFFF 0%, transparent 60%)"}}),(0,P.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600,mb:1,position:"relative"},children:"Current Estimate"}),n.emiResult?(0,P.jsxs)(d.A,{direction:{xs:"column",md:"row"},spacing:{xs:2.5,md:4},sx:{position:"relative",flexWrap:"wrap",justifyContent:"center"},children:[(0,P.jsx)(we,{label:"Principal",value:"ZMW ".concat(k(n.amount)),emphasized:!0}),(0,P.jsx)(we,{label:"Monthly",value:"ZMW ".concat(k(n.emiResult.monthlyInstallment))}),(0,P.jsx)(we,{label:"Total Payable",value:"ZMW ".concat(k(n.emiResult.totalPayable))}),(0,P.jsx)(we,{label:"Total Interest",value:"ZMW ".concat(k(n.emiResult.totalInterest))}),(0,P.jsx)(we,{label:"Interest %",value:n.emiResult.totalInterest&&n.amount?"".concat(Math.round(n.emiResult.totalInterest/n.amount*100),"%"):"-"})]}):(0,P.jsx)(l.A,{variant:"body2",sx:{opacity:.8,position:"relative"},children:"Enter amount & tenure to see live estimate."}),h&&(0,P.jsx)(l.A,{variant:"caption",sx:{color:"#FFD9D9",mt:1,position:"relative"},children:h}),(0,P.jsx)(l.A,{variant:"caption",sx:{display:"block",mt:2.5,opacity:.65,position:"relative"},children:"Tentative loan calculation for repayment estimation."})]}),(0,P.jsx)(m.A,{color:"primary",exclusive:!0,size:"small",value:y,onChange:(e,t)=>t&&x(t),sx:{mb:2,flexWrap:"wrap",gap:1,"& .MuiToggleButton-root":{px:2,py:.6,borderRadius:999,textTransform:"none",fontSize:12,fontWeight:600},"& .Mui-selected":{bgcolor:"#011A41 !important",color:"#fff !important"}},children:f.map(e=>(0,P.jsx)(u.A,{value:e.key,children:e.name},e.key))}),(0,P.jsxs)(s.A,{sx:{display:"grid",gap:2,gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"}},children:[(0,P.jsx)(fe.Y,{type:"number",name:"amount",control:b,label:"Amount",InputProps:{startAdornment:(0,P.jsx)(N,{position:"start",children:"ZMW"}),inputMode:"numeric"}}),(0,P.jsx)(fe.Y,{type:"number",name:"tenureMonths",control:b,label:"Tenure (Months) - Max: ".concat((0,je.IZ)(y)),inputProps:{max:(0,je.IZ)(y),min:1}})]}),(0,P.jsx)(z.A,{sx:{my:3}}),(0,P.jsxs)(l.A,{variant:"caption",sx:{mt:0,display:"block",color:"text.secondary"},children:["Live update: amount ",T.amount||"-",", tenure ",T.tenureMonths||"-"," (loan type: ",null===(e=f.find(e=>e.key===y))||void 0===e?void 0:e.name,")"]}),(null===(t=n.emiResult)||void 0===t?void 0:t.schedule)&&(0,P.jsxs)(s.A,{sx:{mt:3},children:[(0,P.jsxs)(d.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,P.jsx)(I.A,{size:"small",onClick:()=>g(e=>!e),"aria-label":v?"Hide amortization schedule":"Show amortization schedule",children:(0,P.jsx)(ve.A,{sx:{transform:v?"rotate(180deg)":"rotate(0deg)",transition:"transform .25s"}})}),(0,P.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600},children:"Amortization Schedule"}),(0,P.jsx)(E.A,{title:"Download CSV of schedule",children:(0,P.jsx)("span",{children:(0,P.jsx)(I.A,{size:"small",onClick:()=>{var e;if(null===(e=n.emiResult)||void 0===e||!e.schedule)return;const t=[["Month","Opening Balance","Interest","Principal","Installment","Closing Balance"],...n.emiResult.schedule.map(e=>[e.month,e.openingBalance,e.interestPortion,e.principalPortion,e.installment,e.closingBalance])].map(e=>e.join(",")).join("\n"),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download="amortization_".concat(Date.now(),".csv"),r.click(),URL.revokeObjectURL(o)},"aria-label":"Export schedule CSV",children:(0,P.jsx)(ge.A,{fontSize:"small"})})})})]}),(0,P.jsx)(H.A,{in:v,timeout:"auto",unmountOnExit:!0,children:(0,P.jsx)(F,{sx:{mt:1.5,maxHeight:280,border:"1px solid",borderColor:"divider",borderRadius:2},children:(0,P.jsxs)(q,{size:"small",stickyHeader:!0,children:[(0,P.jsx)(Q,{children:(0,P.jsx)(re,{children:["Month","Opening","Interest","Principal","Install","Closing"].map(e=>(0,P.jsx)(me,{sx:{fontSize:12,fontWeight:600},children:e},e))})}),(0,P.jsx)(xe,{children:n.emiResult.schedule.map(e=>(0,P.jsxs)(re,{children:[(0,P.jsx)(me,{children:e.month}),(0,P.jsx)(me,{children:e.openingBalance.toLocaleString()}),(0,P.jsx)(me,{children:e.interestPortion.toLocaleString()}),(0,P.jsx)(me,{children:e.principalPortion.toLocaleString()}),(0,P.jsx)(me,{children:e.installment.toLocaleString()}),(0,P.jsx)(me,{children:e.closingBalance.toLocaleString()})]},e.month))})]})})})]})]})},we=e=>{let{label:t,value:n,emphasized:a}=e;return(0,P.jsxs)(s.A,{sx:{minWidth:{xs:120,md:140},px:.5},children:[(0,P.jsx)(l.A,{variant:"caption",sx:{letterSpacing:.7,opacity:.75},children:t.toUpperCase()}),(0,P.jsx)(l.A,{variant:a?"h5":"h6",sx:{fontWeight:800,lineHeight:1.05,mt:.5,letterSpacing:.3,textShadow:"0 2px 6px rgba(0,0,0,0.25)",animation:"fadeSlide 0.45s ease"},children:n},String(n)),(0,P.jsx)("style",{children:"@keyframes fadeSlide { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }"})]})}},624:(e,t,n)=>{n.d(t,{i:()=>s,y:()=>i});var a=n(5849);const o=a.YjP().optional().refine(e=>!e||/.+@.+\..+/.test(e),{message:"Invalid email"}),r=a.YjP().min(9,{message:"Phone required"}),i=a.Ikc({firstName:a.YjP().min(2,{message:"First name required"}),lastName:a.YjP().min(2,{message:"Last name required"}),phone:r,email:o,address:a.YjP().optional(),nrc:a.YjP().min(5,{message:"NRC required"}),purpose:a.YjP().optional(),gender:a.YjP().optional(),nationality:a.YjP().optional(),otherNationality:a.YjP().optional(),occupation:a.YjP().optional(),maritalStatus:a.YjP().optional(),accommodationType:a.YjP().optional(),employerName:a.YjP().optional(),payrollNumber:a.YjP().optional(),nextOfKin:a.Ikc({firstName:a.YjP().optional(),lastName:a.YjP().optional(),phone:r.optional(),email:o,address:a.YjP().optional(),nrc:a.YjP().optional(),nationality:a.YjP().optional(),relationship:a.YjP().optional()}).optional(),reference:a.Ikc({name:a.YjP().optional(),phone:r.optional(),email:o,address:a.YjP().optional()}).optional()}),s=a.Ikc({amount:a.auy.number().min(100,{message:"Min 100"}),tenureMonths:a.auy.number().min(1,{message:"Tenure required"}).max(60,{message:"Max 60 months"})})},7305:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(4057),o=n(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},8408:(e,t,n)=>{n.d(t,{IZ:()=>o,Pj:()=>r,computeLocalLoanEstimate:()=>i});const a={"instant-salary-advance":{name:"Instant Salary Advances",maxTenureMonths:3,rateStructure:[{minAmount:500,maxAmount:900,monthlyRate:.3},{minAmount:1e3,maxAmount:2500,monthlyRate:.25},{minAmount:3e3,maxAmount:5e3,monthlyRate:.18}]},"corporate-payroll":{name:"Corporate Payroll",maxTenureMonths:24,rateStructure:[{minAmount:0,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.05}]},"government-personal":{name:"Government Personal Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-army":{name:"Zambia Army Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-airforce":{name:"Zambia Airforce Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]}};function o(e){return a[e].maxTenureMonths}function r(){return Object.entries(a).map(e=>{let[t,n]=e;return{key:t,name:n.name,maxTenure:n.maxTenureMonths}})}function i(e){let{principal:t,tenureMonths:n,loanType:r="instant-salary-advance"}=e;if(t<=0||n<=0)throw new Error("Principal and tenure must be positive");const i=function(e,t){if("instant-salary-advance"===t){if(e<500)return{valid:!1,message:"Minimum amount for Instant Salary Advances is K500"};if(e>5e3)return{valid:!1,message:"Maximum amount for Instant Salary Advances is K5000"}}return{valid:!0}}(t,r);if(!i.valid)throw new Error(i.message);const s=o(r);if(n>s)throw new Error("Maximum tenure for ".concat(a[r].name," is ").concat(s," months"));const l=function(e,t){const n=a[t].rateStructure.find(t=>e>=t.minAmount&&e<=t.maxAmount);if(!n)throw new Error("No rate structure found for amount ".concat(e," in product ").concat(t));return n.monthlyRate}(t,r),c=Math.round(t*(1+l*n)),d=Math.round(c/n),m=[];let u=t,p=0;for(let a=1;a<=n;a++){const e=u,t=Math.round(e*l);let n=d-t;n>u&&(n=u);const o=e-n;p+=t,m.push({month:a,openingBalance:e,interestPortion:t,principalPortion:n,installment:t+n,closingBalance:o<1?0:o}),u=o}return{monthlyInstallment:d,totalInterest:p,totalPayable:t+p,monthlyRate:l,schedule:m}}},8555:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(9379),o=n(45),r=(n(5043),n(2324)),i=n(4858),s=n(579);const l=["name","control"],c=e=>{let{name:t,control:n}=e,c=(0,o.A)(e,l);return(0,s.jsx)(i.xI,{name:t,control:n,render:e=>{var t;let{field:n,fieldState:o}=e;return(0,s.jsx)(r.A,(0,a.A)((0,a.A)((0,a.A)({},n),c),{},{fullWidth:!0,error:!!o.error,helperText:null===(t=o.error)||void 0===t?void 0:t.message}))}})}}}]);
//# sourceMappingURL=239.15838d98.chunk.js.map