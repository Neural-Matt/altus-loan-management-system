{"version":3,"file":"static/js/659.4292cf31.chunk.js","mappings":"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AChF,OACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAU,CACTnB,KAAMA,EACNc,QAASA,EACTM,OAAQC,IAAA,IAAAC,EAAA,IAAC,MAAEC,EAAK,WAAEC,GAAYH,EAAA,OAC5BH,EAAAA,EAAAA,KAACO,EAAAA,GAASC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACJX,GAAI,IACRY,WAAS,EACTC,QAASJ,EAAWI,MACpBC,WAA4B,QAAlBP,EAAEE,EAAWI,aAAK,IAAAN,OAAA,EAAhBA,EAAkB3D,QAC9B2C,MAAOD,EAAUkB,EAAMjB,OAAS,IAChCwB,SAAWC,IACT,MACMC,EADY3B,EAAU0B,EAAEE,OAAO3B,OAErCiB,EAAMO,SAASE,IAEjBE,YAAY,cACZC,WAAY,CACVC,UAAW,W,gECrChB,MAAMC,EAAY,CACvB,UACA,aACA,UACA,UACA,SACA,WACA,WACA,gBACA,WACA,UACA,UAcWC,EAAsD,CACjE,QAAW,CACT,QACA,WACA,eACA,aACA,gBACA,WACA,QACA,SACA,SACA,SACA,WACA,WAGF,WAAc,CACZ,gBACA,WACA,YACA,QACA,WACA,aACA,UACA,UACA,WACA,QACA,aAGF,QAAW,CACT,UACA,UACA,aACA,UACA,aACA,SACA,SACA,UACA,YACA,SACA,SACA,UACA,iBACA,SAGF,QAAW,CACT,SACA,UACA,cACA,UACA,WACA,QACA,QACA,UACA,eACA,SACA,YACA,UAGF,OAAU,CACR,WACA,UACA,QACA,UACA,SACA,WAGF,SAAY,CACV,WACA,QACA,QACA,UACA,QACA,UACA,eACA,eACA,cAGF,SAAY,CACV,UACA,SACA,SACA,UACA,QACA,YACA,WACA,SACA,YACA,aACA,QACA,SAGF,gBAAiB,CACf,UACA,WACA,UACA,YACA,UACA,WACA,WACA,aACA,aACA,WAGF,SAAY,CACV,aACA,QACA,WACA,SACA,eACA,SACA,YACA,WACA,QACA,UACA,cACA,QACA,WACA,aACA,SAGF,QAAW,CACT,QACA,SACA,YACA,SACA,SACA,SACA,QACA,WACA,SACA,SACA,UACA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CA,mBACA,WACA,oBACA,8BACA,SACA,YACA,UACA,mBACA,aACA,qCACA,YACA,gCACA,wBACA,qCACA,iBACA,wBACA,kBACA,yBACA,qCACA,sBACA,gBACA,sBACA,YACA,WACA,SACA,mBACA,cACA,UACA,QACA,QACA,UACA,QACA,QACA,SACA,gBACA,UACA,QACA,UACA,QACA,QACA,WACA,WACA,QACA,SACA,UACA,UACA,SACA,YACA,SACA,QAEF,qBAAwB,CACtB,iBACA,oBACA,gBACA,gBACA,sBACA,4BACA,yCACA,gBAIF,qBAAwB,CACtB,cACA,gBACA,mBACA,eACA,SACA,SACA,UACA,gBACA,QACA,SAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,mBACA,aACA,uBACA,cACA,qBACA,WACA,aACA,4BACA,cACA,YACA,qBACA,oBACA,gBACA,kBACA,qBACA,+BACA,WACA,cACA,aACA,QACA,YACA,QACA,iBACA,QACA,cACA,mBACA,WACA,WACA,WACA,QACA,cACA,UACA,QACA,SACA,UACA,YACA,YAEF,IAAO,CACL,mBACA,aACA,uBACA,cACA,qBACA,WACA,aACA,4BACA,cACA,YACA,qBACA,oBACA,gBACA,kBACA,qBACA,+BACA,WACA,cACA,aACA,QACA,YACA,QACA,iBACA,QACA,cACA,mBACA,WACA,WACA,WACA,QACA,cACA,UACA,QACA,SACA,UACA,YACA,YAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,gBAIF,qBAAwB,CACtB,QACA,UACA,iBACA,YACA,WACA,UACA,QACA,UACA,QACA,SACA,SACA,SACA,UACA,YACA,QACA,cACA,WACA,UACA,aACA,SACA,gBACA,kBACA,qBACA,gBACA,kBACA,UACA,QACA,QACA,QACA,YACA,UACA,SACA,SACA,YACA,QACA,UACA,UACA,UACA,cACA,gBAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAEF,eAAgB,CACd,UAEF,QAAW,CACT,UAIF,qBAAwB,CACtB,UAEF,qBAAsB,CACpB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,UAIF,qBAAwB,CACtB,cACA,qBACA,QACA,QACA,cACA,SACA,WAIF,qBAAwB,CACtB,0BAIF,qBAAwB,CACtB,uBAiBSC,EAAe,CAC1B,gCAAiC,CAC/B,cACA,0CAGF,oCAAqC,CACnC,gBACA,mBACA,eACA,SACA,SACA,UACA,gBACA,4BACA,oBACA,iBAGF,sBAAuB,CACrB,QACA,QACA,eACA,gBACA,YAGF,oBAAqB,CACnB,SACA,WACA,QACA,uBAGF,mBAAoB,CAClB,QACA,eACA,UAGF,mBAAoB,CAClB,UACA,kBAGF,yBAA0B,CACxB,UACA,YAGF,mBAAoB,CAClB,kBAWSrC,EAAkBsC,IAC7B,IAAK,MAAOC,EAAOC,KAAa7H,OAAOkH,QAAQQ,GAC7C,GAAKG,EAA+BhD,SAAS8C,GAC3C,OAAOC,EAGX,OAAO,MAMIE,EAAiBH,GACrB/C,EAAiBC,SAAS8C,GAMtBhD,EAAsBD,GAC1B+C,EAAc/C,IAAuBE,C,0HC5iBjC1B,EAA8ClH,IAAiC,IAAhC,KAAEb,EAAI,QAAEc,GAAkBD,EAANE,GAAIC,EAAAA,EAAAA,GAAAH,EAAAI,GAClF,OACEC,EAAAA,EAAAA,KAACC,EAAAA,GAAU,CACTnB,KAAMA,EACNc,QAASA,EACTM,OAAQC,IAAA,IAAAC,EAAA,IAAC,MAAEC,EAAK,WAAEC,GAAYH,EAAA,OAC5BH,EAAAA,EAAAA,KAACO,EAAAA,GAASC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACJH,GACAR,GAAI,IACRY,WAAS,EACTC,QAASJ,EAAWI,MACpBC,WAA4B,QAAlBP,EAAEE,EAAWI,aAAK,IAAAN,OAAA,EAAhBA,EAAkB3D,c","sources":["validation/schemas.ts","components/form/FormNRCField.tsx","constants/locationConstants.ts","components/wizard/steps/CustomerStep.tsx","constants/bankBranches.ts","components/form/FormTextField.tsx"],"sourcesContent":["import { z } from 'zod';\n\nconst optionalEmail = z.string().optional().refine(v => !v || /.+@.+\\..+/.test(v), { message: 'Invalid email' });\nconst phoneRule = z.string().min(9, { message: 'Phone required' });\n\nexport const customerSchema = z.object({\n  firstName: z.string().min(2, { message: 'First name required' }),\n  lastName: z.string().min(2, { message: 'Last name required' }),\n  phone: phoneRule,\n  email: z.string().min(1, { message: 'Email required' }).email({ message: 'Invalid email format' }),\n  address: z.string().min(5, { message: 'Address required' }),\n  nrc: z.string().min(5, { message: 'NRC required' }),\n  nrcIssueDate: z.string().min(1, { message: 'NRC issue date required' }),\n  dateOfBirth: z.string().min(1, { message: 'Date of birth required' }),\n  title: z.string().min(1, { message: 'Title required' }),\n  city: z.string().min(2, { message: 'City/District required' }),\n  province: z.string().min(2, { message: 'Province required' }),\n  postalCode: z.string().optional(),\n  preferredBranch: z.string().min(2, { message: 'Please select your nearest branch' }),\n  purpose: z.string().optional(),\n  gender: z.string().min(1, { message: 'Gender required' }),\n  nationality: z.string().optional(),\n  otherNationality: z.string().optional(),\n  occupation: z.string().optional(),\n  maritalStatus: z.string().min(1, { message: 'Marital status required' }),\n  accommodationType: z.string().optional(),\n  employerName: z.string().min(2, { message: 'Employer name required' }),\n  employerId: z.string().optional(),\n  payrollNumber: z.string().optional(),\n  salary: z.coerce.number().min(0, { message: 'Salary required' }),\n  employmentDate: z.string().min(1, { message: 'Employment date required' }),\n  employmentType: z.string().min(1, { message: 'Employment type required' }),\n  bankName: z.string().min(2, { message: 'Bank name required' }),\n  bankBranch: z.string().min(2, { message: 'Bank branch required' }),\n  accountNumber: z.string().min(5, { message: 'Account number required' }),\n  accountType: z.string().min(1, { message: 'Account type required' }),\n  nextOfKin: z.object({\n    firstName: z.string().optional(),\n    lastName: z.string().optional(),\n    phone: phoneRule.optional(),\n    email: optionalEmail,\n    address: z.string().optional(),\n    city: z.string().optional(),\n    province: z.string().optional(),\n    nrc: z.string().optional(),\n    nationality: z.string().optional(),\n    relationship: z.string().optional()\n  }).optional(),\n  reference: z.object({\n    name: z.string().optional(),\n    phone: phoneRule.optional(),\n    email: optionalEmail,\n    address: z.string().optional(),\n    nrc: z.string().optional(),\n    relationship: z.string().optional()\n  }).optional()\n});\n\n// Base calculator schema - additional validation is done in the component level\nexport const calculatorSchema = z.object({\n  amount: z.coerce.number().min(100, { message: 'Min 100' }),\n  tenureMonths: z.coerce.number().min(1, { message: 'Tenure required' }).max(60, { message: 'Max 60 months' })\n});\n\nexport type CustomerFormValues = z.infer<typeof customerSchema>;\nexport type CalculatorFormValues = z.infer<typeof calculatorSchema>;\n","import React from 'react';\nimport { TextField, TextFieldProps } from '@mui/material';\nimport { Controller, Control } from 'react-hook-form';\n\ninterface FormNRCFieldProps extends Omit<TextFieldProps, 'name' | 'onChange' | 'value'> {\n  name: string;\n  control: Control<any>;\n}\n\nconst formatNRC = (value: string): string => {\n  // Remove all non-digit characters\n  const digits = value.replace(/\\D/g, '');\n  \n  // Limit to 9 digits maximum\n  const limitedDigits = digits.substring(0, 9);\n  \n  // Format with slashes: XXXXXX/XX/X\n  if (limitedDigits.length <= 6) {\n    return limitedDigits;\n  } else if (limitedDigits.length <= 8) {\n    return `${limitedDigits.substring(0, 6)}/${limitedDigits.substring(6)}`;\n  } else {\n    return `${limitedDigits.substring(0, 6)}/${limitedDigits.substring(6, 8)}/${limitedDigits.substring(8)}`;\n  }\n};\n\nconst parseNRC = (formattedValue: string): string => {\n  // Return the formatted value for form storage (keep the slashes)\n  return formattedValue;\n};\n\nexport const FormNRCField: React.FC<FormNRCFieldProps> = ({ name, control, ...rest }) => {\n  return (\n    <Controller\n      name={name}\n      control={control}\n      render={({ field, fieldState }) => (\n        <TextField\n          {...rest}\n          fullWidth\n          error={!!fieldState.error}\n          helperText={fieldState.error?.message}\n          value={formatNRC(field.value || '')}\n          onChange={(e) => {\n            const formatted = formatNRC(e.target.value);\n            const parsed = parseNRC(formatted);\n            field.onChange(parsed);\n          }}\n          placeholder=\"XXXXXX/XX/X\"\n          inputProps={{\n            maxLength: 11, // 6 digits + 2 slashes + 2 digits + 1 slash + 1 digit\n          }}\n        />\n      )}\n    />\n  );\n};","/**\n * Location Constants for ALTUS Loan Application\n *\n * Contains provinces, cities, and their relationships for cascading dropdowns.\n * Based on the 29 confirmed ALTUS Production API branches.\n *\n * Last updated: December 6, 2025\n */\n\n// ============================================================================\n// PROVINCES\n// ============================================================================\n\nexport const provinces = [\n  'Central',\n  'Copperbelt',\n  'Eastern',\n  'Luapula',\n  'Lusaka',\n  'Muchinga',\n  'Northern',\n  'North-Western',\n  'Southern',\n  'Western',\n  'Others'\n] as const;\n\nexport type ProvinceName = typeof provinces[number];\n\n// ============================================================================\n// CITIES/DISTRICTS BY PROVINCE\n// ============================================================================\n\n/**\n * Cities and districts grouped by province.\n * Based on the comprehensive DISTRICT_ID_MAP from ALTUS API.\n * Corrected province-district mappings based on administrative divisions.\n */\nexport const citiesByProvince: Record<string, readonly string[]> = {\n  'Central': [\n    'Kabwe',\n    'Chibombo',\n    'Itezhi-tezhi',\n    'Shibuyunji',\n    'Kapiri Mposhi',\n    'Chitambo',\n    'Luano',\n    'Mkushi',\n    'Mumbwa',\n    'Ngabwe',\n    'Chisamba',\n    'Serenje'\n  ] as const,\n\n  'Copperbelt': [\n    'Chililabombwe',\n    'Chingola',\n    'Kalulushi',\n    'Kitwe',\n    'Luanshya',\n    'Lufwanyama',\n    'Masaiti',\n    'Mpongwe',\n    'Mufulira',\n    'Ndola',\n    'Chambishi'\n  ] as const,\n\n  'Eastern': [\n    'Chadiza',\n    'Chasefu',\n    'Chipangali',\n    'Chipata',\n    'Kasenengwa',\n    'Katete',\n    'Lumezi',\n    'Lundazi',\n    'Lusangazi',\n    'Mambwe',\n    'Nyimba',\n    'Petauke',\n    'Sinda District',\n    'Vubwi'\n  ] as const,\n\n  'Luapula': [\n    'Chembe',\n    'Chiengi',\n    'Chifunabuli',\n    'Chipili',\n    'Kawambwa',\n    'Lunga',\n    'Mansa',\n    'Milenge',\n    'Mwansabombwe',\n    'Mwense',\n    'Nchelenge',\n    'Samfya'\n  ] as const,\n\n  'Lusaka': [\n    'Chilanga',\n    'Chongwe',\n    'Kafue',\n    'Luangwa',\n    'Lusaka',\n    'Rufunsa'\n  ] as const,\n\n  'Muchinga': [\n    'Chinsali',\n    'Chama',\n    'Isoka',\n    'Mafinga',\n    'Mpika',\n    'Nakonde',\n    'Shiwang\\'andu',\n    'Lavushimanda',\n    'Kanchibiya'\n  ] as const,\n\n  'Northern': [\n    'Chilubi',\n    'Kaputa',\n    'Kasama',\n    'Luwingu',\n    'Mbala',\n    'Mporokoso',\n    'Mpulungu',\n    'Mungwi',\n    'Lupososhi',\n    'Senga Hill',\n    'Lunte',\n    'Nsama'\n  ] as const,\n\n  'North-Western': [\n    'Chavuma',\n    'Ikelenge',\n    'Kabompo',\n    'Kalumbila',\n    'Kasempa',\n    'Manyinga',\n    'Mufumbwe',\n    'Mushindamo',\n    'Mwinilunga',\n    'Solwezi'\n  ] as const,\n\n  'Southern': [\n    'Chikankata',\n    'Choma',\n    'Chirundu',\n    'Gwembe',\n    'Itezhi Tehzi',\n    'Kalomo',\n    'Kazungula',\n    'Mazabuka',\n    'Monze',\n    'Namwala',\n    'Livingstone',\n    'Pemba',\n    'Siavonga',\n    'Sinazongwe',\n    'Zimba'\n  ] as const,\n\n  'Western': [\n    'Kaoma',\n    'Kalabo',\n    'Limulunga',\n    'Luampa',\n    'Lukulu',\n    'Mitete',\n    'Mongu',\n    'Mulobezi',\n    'Mwandi',\n    'Nalolo',\n    'Nkeyema',\n    'Senanga',\n    'Sesheke',\n    'Shangombo',\n    'Sikongo',\n    'Sioma'\n  ] as const,\n\n  'Others': [] as const\n} as const;\n\n// ============================================================================\n// BANK BRANCHES BY PROVINCE\n// ============================================================================\n\n/**\n * Bank branches grouped by province.\n * These are the 29 CONFIRMED branches accepted by ALTUS Production API.\n *\n * DO NOT modify unless confirmed by actual API error messages.\n */\nexport const branchByProvince: Record<string, readonly string[]> = {\n  'Lusaka Province': [\n    'Head Office',\n    'Lusaka Corporate Service Centre Branch',\n    'Lusaka Square',\n    'Lusaka South End',\n    'Kalingalinga',\n    'Tazara',\n    'Garden',\n    'Makumbi',\n    'Bread of Life',\n    'Longacres Prestige Branch',\n    'Manda Hill Branch',\n    'Matero Branch',\n  ] as const,\n\n  'Copperbelt Province': [\n    'Ndola',\n    'Kitwe',\n    'Kitwe Agency',\n    'Chililabombwe',\n    'Chingola',\n  ] as const,\n\n  'Northern Province': [\n    'Kasama',\n    'Mpulungu',\n    'Mbala',\n    'Mbala Branch Zambia',\n  ] as const,\n\n  'Luapula Province': [\n    'Mansa',\n    'Mansa Branch',\n    'Mwense',\n  ] as const,\n\n  'Eastern Province': [\n    'Chipata',\n    'Petauke Branch',\n  ] as const,\n\n  'North-Western Province': [\n    'Solwezi',\n    'Mufumbwe',\n  ] as const,\n\n  'Central Province': [\n    'Mkushi Branch',\n  ] as const,\n\n  'Southern Province': [\n    // No branches confirmed yet - placeholder for future\n  ] as const,\n} as const;\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n/**\n * Get all cities for a given province\n */\nexport const getCitiesForProvince = (province: string): readonly string[] => {\n  return citiesByProvince[province] || [];\n};\n\n/**\n * Get all branches for a given province\n */\nexport const getBranchesForProvince = (province: string): readonly string[] => {\n  // Map province names to the keys used in branchByProvince\n  const provinceKeyMap: Record<string, string> = {\n    'Central': 'Central Province',\n    'Copperbelt': 'Copperbelt Province', \n    'Eastern': 'Eastern Province',\n    'Luapula': 'Luapula Province',\n    'Lusaka': 'Lusaka Province',\n    'Muchinga': 'Muchinga Province',\n    'Northern': 'Northern Province',\n    'North-Western': 'North-Western Province',\n    'Southern': 'Southern Province',\n    'Western': 'Western Province',\n    'Others': 'Others Province'\n  };\n  \n  const provinceKey = provinceKeyMap[province] || province;\n  return branchByProvince[provinceKey] || [];\n};\n\n/**\n * Get province for a given branch\n */\nexport const getProvinceForBranch = (branchName: string): string | null => {\n  for (const [province, branches] of Object.entries(branchByProvince)) {\n    if ((branches as readonly string[]).includes(branchName)) {\n      return province;\n    }\n  }\n  return null;\n};\n\n/**\n * Get all available branch names across all provinces\n */\nexport const getAllBranches = (): string[] => {\n  return Object.values(branchByProvince).flat();\n};\n\n/**\n * Validate if a province exists\n */\nexport const isValidProvince = (province: string): boolean => {\n  return provinces.includes(province as any);\n};\n\nexport default {\n  provinces,\n  citiesByProvince,\n  branchByProvince,\n  getCitiesForProvince,\n  getBranchesForProvince,\n  getProvinceForBranch,\n  getAllBranches,\n  isValidProvince,\n};\n","import React, { useEffect } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { customerSchema, CustomerFormValues } from '../../../validation/schemas';\nimport { Box, Typography, Paper, Collapse, IconButton, Stack, MenuItem, Autocomplete, TextField, Chip, Tooltip } from '@mui/material';\nimport { FormTextField } from '../../form/FormTextField';\nimport { FormNRCField } from '../../form/FormNRCField';\nimport { useWizardData } from '../WizardDataContext';\nimport { useAltus } from '../../../context/AltusContext';\nimport { useSnackbar } from '../../feedback/SnackbarProvider';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport InfoOutlinedIcon from '@mui/icons-material/InfoOutlined';\nimport { getBranchesForBank, getBranchGroup, allValidBranches } from '../../../constants/bankBranches';\nimport { provinces, citiesByProvince, branchByProvince, getCitiesForProvince, getBranchesForProvince } from '../../../constants/locationConstants';\nimport { RELATIONSHIP_ID_MAP, BANK_ID_MAP } from '../../../constants/altusLookups';\n\nexport const CustomerStep: React.FC = () => {\n  const { customer, setCustomer } = useWizardData();\n  const { createRetailCustomer } = useAltus();\n  const { push } = useSnackbar();\n  const [openKin, setOpenKin] = React.useState(true);\n  const [openRef, setOpenRef] = React.useState(false);\n\n  // Helper function to get human-readable bank names for display\n  const getBankDisplayNames = (): string[] => {\n    return Object.keys(BANK_ID_MAP);\n  };\n\n  // Helper function to convert bank display name to ALTUS ID\n  const getBankIdFromName = (bankName: string): string => {\n    return BANK_ID_MAP[bankName] || '';\n  };\n\n  // Helper function to convert ALTUS ID to bank display name\n  const getBankNameFromId = (bankId: string): string => {\n    const entry = Object.entries(BANK_ID_MAP).find(([name, id]) => id === bankId);\n    return entry ? entry[0] : '';\n  };\n\n  const { control, handleSubmit, reset, watch, formState: { errors }, trigger } = useForm<CustomerFormValues>({\n    defaultValues: {\n      firstName: customer.firstName || '',\n      lastName: customer.lastName || '',\n      phone: customer.phone || '',\n      email: customer.email || '',\n      address: customer.address || '',\n      nrc: customer.nrc || '',\n      nrcIssueDate: customer.nrcIssueDate || '',\n      dateOfBirth: customer.dateOfBirth || '',\n      title: customer.title || '',\n      city: customer.city || '',\n      province: customer.province || '',\n      postalCode: customer.postalCode || '',\n      purpose: customer.purpose || '',\n      gender: customer.gender || '',\n      nationality: customer.nationality || '',\n      otherNationality: customer.otherNationality || '',\n      occupation: customer.occupation || '',\n      maritalStatus: customer.maritalStatus || '',\n      accommodationType: customer.accommodationType || '',\n      employerName: customer.employerName || '',\n      employerId: customer.employerId || '',\n      payrollNumber: customer.payrollNumber || '',\n      salary: customer.salary || 0,\n      employmentDate: customer.employmentDate || '',\n      employmentType: customer.employmentType || '',\n      bankName: customer.bankName || '',\n      bankBranch: customer.bankBranch || '',\n      accountNumber: customer.accountNumber || '',\n      accountType: customer.accountType || '',\n      nextOfKin: customer.nextOfKin || {},\n      reference: customer.reference || {}\n    },\n    resolver: zodResolver(customerSchema) as any,\n    mode: 'onBlur'\n  });\n\n  // Watch nationality field to conditionally show other nationality input\n  const nationalityValue = watch('nationality');\n  \n  // Watch bank name to filter branch options dynamically\n  const selectedBankName = watch('bankName');\n  \n  // Watch province to filter city and branch options (cascading)\n  const selectedProvince = watch('province');\n  \n  // Watch next of kin province for cascading dropdowns\n  const selectedKinProvince = watch('nextOfKin.province');\n\n  useEffect(() => {\n    reset({\n      firstName: customer.firstName || '',\n      lastName: customer.lastName || '',\n      phone: customer.phone || '',\n      email: customer.email || '',\n      address: customer.address || '',\n      nrc: customer.nrc || '',\n      nrcIssueDate: customer.nrcIssueDate || '',\n      dateOfBirth: customer.dateOfBirth || '',\n      title: customer.title || '',\n      city: customer.city || '',\n      province: customer.province || '',\n      postalCode: customer.postalCode || '',\n      purpose: customer.purpose || '',\n      gender: customer.gender || '',\n      nationality: customer.nationality || '',\n      otherNationality: customer.otherNationality || '',\n      occupation: customer.occupation || '',\n      maritalStatus: customer.maritalStatus || '',\n      accommodationType: customer.accommodationType || '',\n      employerName: customer.employerName || '',\n      employerId: customer.employerId || '',\n      payrollNumber: customer.payrollNumber || '',\n      salary: customer.salary || 0,\n      employmentDate: customer.employmentDate || '',\n      employmentType: customer.employmentType || '',\n      bankName: customer.bankName || '',\n      bankBranch: customer.bankBranch || '',\n      accountNumber: customer.accountNumber || '',\n      accountType: customer.accountType || '',\n      nextOfKin: customer.nextOfKin || {},\n      reference: customer.reference || {}\n    });\n  }, [customer, reset]);\n\n  const onValid = async (values: CustomerFormValues) => { \n    try {\n      // Update wizard data first\n      setCustomer(values);\n      \n      // Validate all required fields before creating request\n      if (!values.address || !values.city || !values.province) {\n        push('Please fill in all address fields (Address, City, Province)', 'error');\n        return;\n      }\n      \n      if (!values.bankName || !values.accountNumber || !values.accountType || !values.bankBranch) {\n        push('Please fill in all bank details', 'error');\n        return;\n      }\n      \n      if (!values.employerName || !values.salary || !values.employmentDate || !values.employmentType) {\n        push('Please fill in all employment details', 'error');\n        return;\n      }\n      \n      // Transform wizard data to Altus API format\n      const customerRequest = {\n        firstName: values.firstName,\n        lastName: values.lastName || values.firstName, // Use firstName if lastName is empty (API accepts empty LastName)\n        nrc: values.nrc,\n        nrcIssueDate: values.nrcIssueDate,\n        phoneNumber: values.phone,\n        emailAddress: values.email,\n        dateOfBirth: values.dateOfBirth,\n        title: values.title,\n        gender: values.gender as \"Male\" | \"Female\",\n        nationality: values.nationality === 'Other' ? values.otherNationality || '' : values.nationality || 'Zambian',\n        otherNationality: values.nationality === 'Other' ? values.otherNationality : undefined,\n        maritalStatus: values.maritalStatus,\n        address: {\n          street: values.address,\n          city: values.city,\n          province: values.province,\n          postalCode: values.postalCode || \"\",\n          country: \"Zambia\"\n        },\n        preferredBranch: values.preferredBranch,\n        employment: {\n          employerId: values.employerId || \"EMP001\",\n          employerName: values.employerName,\n          employerCode: values.payrollNumber || '',\n          position: values.occupation || 'Employee',\n          salary: values.salary,\n          employmentDate: values.employmentDate,\n          employmentType: (values.employmentType || \"Permanent\") as \"Permanent\" | \"Contract\" | \"Temporary\"\n        },\n        nextOfKin: {\n          firstName: values.nextOfKin?.firstName || '',\n          lastName: values.nextOfKin?.lastName || '',\n          relationship: values.nextOfKin?.relationship || '',\n          phoneNumber: values.nextOfKin?.phone || '',\n          address: values.nextOfKin?.address\n        },\n        bankDetails: {\n          bankName: getBankIdFromName(values.bankName) || values.bankName, // Convert to ALTUS ID\n          accountNumber: values.accountNumber,\n          accountType: values.accountType,\n          branchCode: values.bankBranch\n        }\n      };\n\n      // Call the API and wait for the response\n      console.log('üßë‚Äçüíº Creating customer with API...', customerRequest);\n      const createdCustomer = await createRetailCustomer(customerRequest);\n      \n      if (createdCustomer && createdCustomer.customerId) {\n        console.log('‚úÖ Customer created successfully:', createdCustomer.customerId);\n        \n        // Update wizard data with the returned customer ID and API data\n        setCustomer({\n          ...values,\n          customerId: createdCustomer.customerId,\n          apiCustomerData: createdCustomer // Store the full API response\n        });\n        \n        push(`Customer created successfully! ID: ${createdCustomer.customerId}`, 'success');\n      } else {\n        console.warn('‚ö†Ô∏è Customer creation returned no data');\n        push('Customer details saved locally, but API integration may have failed.', 'warning');\n      }\n    } catch (err) {\n      console.error('‚ùå Error creating customer:', err);\n      push('Failed to save customer details. Please try again.', 'error');\n      throw err; // Re-throw to prevent wizard from advancing\n    }\n  };\n  \n  // Validator function that triggers form validation and shows missing fields\n  (window as any).__customerStepSubmit = async () => {\n    const isValid = await trigger(); // Trigger validation on all fields\n    if (!isValid) {\n      const missingFields: string[] = [];\n      Object.keys(errors).forEach(key => {\n        const errorKey = key as keyof typeof errors;\n        if (errors[errorKey]?.message) {\n          missingFields.push(errors[errorKey]?.message as string);\n        }\n      });\n      \n      if (missingFields.length > 0) {\n        push(`‚ö†Ô∏è Please complete all required fields: ${missingFields.slice(0, 3).join(', ')}${missingFields.length > 3 ? '...' : ''}`, 'error');\n      } else {\n        push('Please fill in all required customer information before proceeding', 'error');\n      }\n      return false;\n    }\n    \n    // Update customer data without creating customer (fast track mode)\n    const values = watch();\n    setCustomer(values);\n    return true;\n  };\n\n  const Section: React.FC<{ title: string; subtitle?: string; toggle?: boolean; open?: boolean; onToggle?: () => void; children: React.ReactNode; }> = ({ title, subtitle, toggle, open=true, onToggle, children }) => (\n    <Paper elevation={0} sx={{ p:2.5, border:'1px solid', borderColor:'divider', borderRadius:3 }}>\n      <Stack direction=\"row\" spacing={1} alignItems=\"center\" sx={{ mb:1 }}>\n        {toggle && <IconButton size=\"small\" onClick={onToggle} aria-label={open? 'Collapse section':'Expand section'} sx={{ transform: open? 'rotate(180deg)':'rotate(0deg)', transition:'transform .25s' }}><ExpandMoreIcon /></IconButton>}\n        <Typography variant=\"subtitle2\" sx={{ fontWeight:600 }}>{title}</Typography>\n        {subtitle && <Typography variant=\"caption\" sx={{ color:'text.secondary' }}>{subtitle}</Typography>}\n      </Stack>\n      <Collapse in={open} unmountOnExit timeout=\"auto\">{children}</Collapse>\n    </Paper>\n  );\n\n  return (\n    <Box>\n      <Typography variant=\"h6\" gutterBottom>Applicant Information</Typography>\n      <Stack spacing={2.5}>\n        <Section title=\"Personal Details\" subtitle=\"Core applicant information\">\n          <Box sx={{ display:'grid', gap:2, gridTemplateColumns:{ xs:'1fr', sm:'1fr 1fr' } }}>\n            <Box>\n              <FormTextField \n                name=\"title\" \n                control={control} \n                label=\"Title\"\n                select\n              >\n                <MenuItem value=\"Mr\">Mr.</MenuItem>\n                <MenuItem value=\"Mrs\">Mrs.</MenuItem>\n                <MenuItem value=\"Miss\">Miss.</MenuItem>\n                <MenuItem value=\"Ms\">Ms.</MenuItem>\n                <MenuItem value=\"Dr\">Dr.</MenuItem>\n              </FormTextField>\n            </Box>\n            <Box></Box>\n            <Box><FormTextField name=\"firstName\" control={control} label=\"First Name\" /></Box>\n            <Box><FormTextField name=\"lastName\" control={control} label=\"Last Name\" /></Box>\n            <Box><FormTextField name=\"phone\" control={control} label=\"Phone Number\" /></Box>\n            <Box><FormTextField name=\"email\" control={control} label=\"Email\" /></Box>\n            <Box><FormTextField name=\"dateOfBirth\" control={control} label=\"Date of Birth\" type=\"date\" InputLabelProps={{ shrink: true }} /></Box>\n            <Box><FormNRCField name=\"nrc\" control={control} label=\"NRC\" /></Box>\n            <Box><FormTextField name=\"nrcIssueDate\" control={control} label=\"NRC Issue Date\" type=\"date\" InputLabelProps={{ shrink: true }} /></Box>\n            <Box>\n              <FormTextField \n                name=\"gender\" \n                control={control} \n                label=\"Gender\"\n                select\n              >\n                <MenuItem value=\"Male\">Male</MenuItem>\n                <MenuItem value=\"Female\">Female</MenuItem>\n              </FormTextField>\n            </Box>\n            <Box sx={{ gridColumn:'1 / -1' }}><FormTextField name=\"address\" control={control} label=\"Residential Address\" /></Box>\n            \n            {/* Province Autocomplete - First in cascade */}\n            <Box>\n              <Controller\n                name=\"province\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <Autocomplete\n                    options={[...provinces]}\n                    value={field.value || null}\n                    onChange={(_, newValue) => {\n                      field.onChange(newValue || '');\n                      // Reset dependent fields when province changes\n                      const currentValues = watch();\n                      if (newValue !== field.value) {\n                        reset({ ...currentValues, city: '', bankBranch: '' });\n                      }\n                    }}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"Province\"\n                        error={!!error}\n                        helperText={error?.message}\n                        required\n                      />\n                    )}\n                    disableClearable={false}\n                    isOptionEqualToValue={(option, value) => option === value}\n                  />\n                )}\n              />\n            </Box>\n\n            {/* City Autocomplete - Filtered by province */}\n            <Box>\n              <Controller\n                name=\"city\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <Autocomplete\n                    options={selectedProvince ? getCitiesForProvince(selectedProvince) : []}\n                    value={field.value || null}\n                    onChange={(_, newValue) => field.onChange(newValue || '')}\n                    disabled={!selectedProvince}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"City/District\"\n                        error={!!error}\n                        helperText={error?.message || (!selectedProvince ? 'Select province first' : '')}\n                        required\n                      />\n                    )}\n                    disableClearable={false}\n                    isOptionEqualToValue={(option, value) => option === value}\n                  />\n                )}\n              />\n            </Box>\n            \n            <Box><FormTextField name=\"postalCode\" control={control} label=\"Postal Code (Optional)\" /></Box>\n            <Box>\n              <FormTextField \n                name=\"preferredBranch\" \n                control={control} \n                label=\"Nearest Branch\"\n                select\n                helperText=\"Select your nearest Altus branch location\"\n              >\n                <MenuItem value=\"Lusaka - HQ\">Lusaka - HQ</MenuItem>\n                <MenuItem value=\"Kitwe\">Kitwe</MenuItem>\n                <MenuItem value=\"Livingstone\">Livingstone</MenuItem>\n                <MenuItem value=\"Kasama\">Kasama</MenuItem>\n                <MenuItem value=\"Solwezi\">Solwezi</MenuItem>\n                <MenuItem value=\"Ndola\">Ndola</MenuItem>\n                <MenuItem value=\"Mansa\">Mansa</MenuItem>\n                <MenuItem value=\"Mongu\">Mongu</MenuItem>\n                <MenuItem value=\"Choma\">Choma</MenuItem>\n                <MenuItem value=\"Chipata\">Chipata</MenuItem>\n                <MenuItem value=\"Lusaka CBD\">Lusaka CBD</MenuItem>\n                <MenuItem value=\"Kabwe\">Kabwe</MenuItem>\n              </FormTextField>\n            </Box>\n            <Box>\n              <FormTextField \n                name=\"nationality\" \n                control={control} \n                label=\"Nationality\"\n                select\n              >\n                <MenuItem value=\"Zambian\">Zambian</MenuItem>\n                <MenuItem value=\"Other\">Other</MenuItem>\n              </FormTextField>\n            </Box>\n            {nationalityValue === 'Other' && (\n              <Box sx={{ gridColumn:{ xs:'1 / -1', sm:'auto' } }}>\n                <FormTextField \n                  name=\"otherNationality\" \n                  control={control} \n                  label=\"Specify Nationality\" \n                  placeholder=\"Enter your nationality\"\n                />\n              </Box>\n            )}\n            <Box>\n              <FormTextField \n                name=\"maritalStatus\" \n                control={control} \n                label=\"Marital Status\"\n                select\n              >\n                <MenuItem value=\"Single\">Single</MenuItem>\n                <MenuItem value=\"Married\">Married</MenuItem>\n                <MenuItem value=\"De facto\">De facto</MenuItem>\n                <MenuItem value=\"Divorced\">Divorced</MenuItem>\n                <MenuItem value=\"Widow\">Widow</MenuItem>\n                <MenuItem value=\"Separated\">Separated</MenuItem>\n                <MenuItem value=\"Civil Union\">Civil Union</MenuItem>\n              </FormTextField>\n            </Box>\n            <Box>\n              <FormTextField \n                name=\"accommodationType\" \n                control={control} \n                label=\"Accommodation Type\"\n                select\n              >\n                <MenuItem value=\"Tenant\">Tenant</MenuItem>\n                <MenuItem value=\"Home Owner\">Home Owner</MenuItem>\n                <MenuItem value=\"Other\">Other</MenuItem>\n                <MenuItem value=\"Living in Family Home\">Living in Family Home</MenuItem>\n              </FormTextField>\n            </Box>\n            <Box>\n              <FormTextField \n                name=\"purpose\" \n                control={control} \n                label=\"Purpose of Loan\"\n                select\n              >\n                <MenuItem value=\"Grow Business\">Grow Business</MenuItem>\n                <MenuItem value=\"Personal Use\">Personal Use</MenuItem>\n                <MenuItem value=\"Housing\">Housing</MenuItem>\n                <MenuItem value=\"Medication\">Medication</MenuItem>\n                <MenuItem value=\"Farming\">Farming</MenuItem>\n                <MenuItem value=\"Start/Grow business\">Start/Grow business</MenuItem>\n                <MenuItem value=\"Education\">Education</MenuItem>\n                <MenuItem value=\"Home improvement\">Home improvement</MenuItem>\n                <MenuItem value=\"Building/Purchase home\">Building/Purchase home</MenuItem>\n                <MenuItem value=\"Medical expenses\">Medical expenses</MenuItem>\n                <MenuItem value=\"Agricultural inputs/Equipment\">Agricultural inputs/Equipment</MenuItem>\n                <MenuItem value=\"Furniture/Home appliances\">Furniture/Home appliances</MenuItem>\n                <MenuItem value=\"Television/Sound system\">Television/Sound system</MenuItem>\n                <MenuItem value=\"Mobile phone\">Mobile phone</MenuItem>\n                <MenuItem value=\"Laptop/Tablet\">Laptop/Tablet</MenuItem>\n                <MenuItem value=\"Renewable energy/Energy efficiency products\">Renewable energy/Energy efficiency products</MenuItem>\n                <MenuItem value=\"Env recycling treatments/operations\">Env recycling treatments/operations</MenuItem>\n                <MenuItem value=\"Vehicle/Import duty/Maintenance\">Vehicle/Import duty/Maintenance</MenuItem>\n                <MenuItem value=\"School Fees\">School Fees</MenuItem>\n                <MenuItem value=\"Debt consolidation\">Debt consolidation</MenuItem>\n                <MenuItem value=\"Funeral\">Funeral</MenuItem>\n                <MenuItem value=\"Land purchase\">Land purchase</MenuItem>\n              </FormTextField>\n            </Box>\n          </Box>\n        </Section>\n        <Section title=\"Employment Details\" subtitle=\"Work and income information\">\n          <Box sx={{ display:'grid', gap:2, gridTemplateColumns:{ xs:'1fr', sm:'1fr 1fr' } }}>\n            <Box><FormTextField name=\"employerName\" control={control} label=\"Employer Name\" /></Box>\n            <Box><FormTextField name=\"payrollNumber\" control={control} label=\"Employee/Payroll Number\" /></Box>\n            <Box><FormTextField name=\"employerId\" control={control} label=\"Employer ID (Optional)\" /></Box>\n            <Box><FormTextField name=\"occupation\" control={control} label=\"Job Title/Position\" /></Box>\n            <Box><FormTextField name=\"salary\" control={control} label=\"Monthly Salary (ZMW)\" type=\"number\" /></Box>\n            <Box><FormTextField name=\"employmentDate\" control={control} label=\"Employment Start Date\" type=\"date\" InputLabelProps={{ shrink: true }} /></Box>\n            <Box>\n              <FormTextField \n                name=\"employmentType\" \n                control={control} \n                label=\"Employment Type\"\n                select\n              >\n                <MenuItem value=\"Permanent\">Permanent</MenuItem>\n                <MenuItem value=\"Contract\">Contract</MenuItem>\n                <MenuItem value=\"Temporary\">Temporary</MenuItem>\n              </FormTextField>\n            </Box>\n          </Box>\n        </Section>\n        <Section title=\"Bank Details\" subtitle=\"Account information for disbursement\">\n          <Box sx={{ display:'grid', gap:2, gridTemplateColumns:{ xs:'1fr', sm:'1fr 1fr' } }}>\n            {/* Bank Name - Autocomplete with all Zambian banks */}\n            <Box>\n              <Controller\n                name=\"bankName\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <Autocomplete\n                    {...field}\n                    options={getBankDisplayNames()}\n                    value={field.value || null}\n                    onChange={(_, newValue) => {\n                      field.onChange(newValue || '');\n                      // Reset branch when bank changes\n                      if (newValue !== field.value) {\n                        const currentBranch = watch('bankBranch');\n                        const bankId = getBankIdFromName(newValue || '');\n                        const newBranches = bankId ? getBranchesForBank(bankId) : allValidBranches;\n                        if (!newBranches.includes(currentBranch as any)) {\n                          // Clear branch if it's not valid for the new bank\n                          reset({ ...watch(), bankBranch: '' });\n                        }\n                      }\n                    }}\n                    disableClearable={false}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"Bank Name\"\n                        error={!!error}\n                        helperText={error?.message || 'Select your bank'}\n                        required\n                      />\n                    )}\n                    isOptionEqualToValue={(option, value) => option === value}\n                  />\n                )}\n              />\n            </Box>\n            \n            {/* FNB warning removed as requested */}\n            \n            {/* Bank Branch - Autocomplete filtered by province */}\n            <Box>\n              <Controller\n                name=\"bankBranch\"\n                control={control}\n                render={({ field, fieldState: { error } }) => {\n                  // Filter branches by province first\n                  const provinceFilteredBranches = selectedProvince \n                    ? getBranchesForProvince(selectedProvince)\n                    : allValidBranches;\n                  \n                  // Further filter by selected bank if one is selected\n                  let availableBranches = provinceFilteredBranches;\n                  if (selectedBankName) {\n                    const bankId = getBankIdFromName(selectedBankName);\n                    const bankFilteredBranches = bankId ? getBranchesForBank(bankId) : allValidBranches;\n                    \n                    // Intersect province and bank filtered branches\n                    availableBranches = provinceFilteredBranches.filter(branch => \n                      bankFilteredBranches.includes(branch as any)\n                    );\n                  }\n                  \n                  return (\n                    <Autocomplete\n                      {...field}\n                      options={[...availableBranches]}\n                      value={field.value || null}\n                      onChange={(_, newValue) => field.onChange(newValue || '')}\n                      groupBy={(option) => getBranchGroup(option) || 'Other'}\n                      filterOptions={(options, { inputValue }) => {\n                        if (!inputValue) return options;\n                        const query = inputValue.toLowerCase();\n                        return options.filter(option => \n                          option.toLowerCase().includes(query)\n                        );\n                      }}\n                      disableClearable={false}\n                      disabled={!selectedBankName || !selectedProvince}\n                      renderInput={(params) => (\n                        <TextField\n                          {...params}\n                          label=\"Bank Branch\"\n                          error={!!error}\n                          helperText={\n                            error?.message || \n                            (!selectedBankName \n                              ? 'Select a bank first' \n                              : !selectedProvince \n                                ? 'Select a province first'\n                                : `${availableBranches.length} branches available in ${selectedProvince}`)\n                          }\n                          required\n                          InputProps={{\n                            ...params.InputProps,\n                            endAdornment: (\n                              <>\n                                {params.InputProps.endAdornment}\n                                <Tooltip \n                                  title={\n                                    <Box>\n                                      <Typography variant=\"caption\" sx={{ fontWeight: 'bold', display: 'block', mb: 0.5 }}>\n                                        ‚ö†Ô∏è IMPORTANT: Exact Branch Match Required\n                                      </Typography>\n                                      <Typography variant=\"caption\" sx={{ display: 'block', mb: 1 }}>\n                                        Branches are filtered by your selected province. Select the exact branch name.\n                                      </Typography>\n                                      <Typography variant=\"caption\" sx={{ display: 'block', fontStyle: 'italic' }}>\n                                        Type to search branches by name\n                                      </Typography>\n                                    </Box>\n                                  }\n                                  arrow\n                                  placement=\"top\"\n                                >\n                                  <InfoOutlinedIcon \n                                    sx={{ \n                                      fontSize: 20, \n                                      color: 'action.active',\n                                      cursor: 'help',\n                                      mr: 0.5\n                                    }} \n                                  />\n                                </Tooltip>\n                              </>\n                            ),\n                          }}\n                        />\n                      )}\n                      renderOption={(props, option) => (\n                        <li {...props} key={option}>\n                          <Box sx={{ display: 'flex', flexDirection: 'column', width: '100%' }}>\n                            <Typography variant=\"body2\">{option}</Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {getBranchGroup(option)}\n                            </Typography>\n                          </Box>\n                        </li>\n                      )}\n                      isOptionEqualToValue={(option, value) => option === value}\n                    />\n                  );\n                }}\n              />\n            </Box>\n            \n            <Box><FormTextField name=\"accountNumber\" control={control} label=\"Account Number\" /></Box>\n            <Box>\n              <FormTextField \n                name=\"accountType\" \n                control={control} \n                label=\"Account Type\"\n                select\n              >\n                <MenuItem value=\"Savings\">Savings</MenuItem>\n                <MenuItem value=\"Current\">Current</MenuItem>\n                <MenuItem value=\"Fixed Deposit\">Fixed Deposit</MenuItem>\n              </FormTextField>\n            </Box>\n          </Box>\n          \n          {/* Visual indicator for branch validation */}\n          {selectedBankName && watch('bankBranch') && (\n            <Box sx={{ mt: 1, display: 'flex', alignItems: 'center', gap: 1 }}>\n              <Chip \n                label=\"Exact match required\" \n                size=\"small\" \n                color=\"error\" \n                variant=\"outlined\"\n                icon={<InfoOutlinedIcon />}\n              />\n              <Typography variant=\"caption\" color=\"text.secondary\">\n                Selected: <strong>{watch('bankBranch')}</strong>\n              </Typography>\n            </Box>\n          )}\n        </Section>\n        <Section title=\"Next of Kin\" toggle open={openKin} onToggle={()=>setOpenKin(o=>!o)} subtitle=\"Emergency contact details\">\n          <Box sx={{ display:'grid', gap:2, gridTemplateColumns:{ xs:'1fr', sm:'1fr 1fr' } }}>\n            <Box><FormTextField name=\"nextOfKin.firstName\" control={control} label=\"First Name\" /></Box>\n            <Box><FormTextField name=\"nextOfKin.lastName\" control={control} label=\"Last Name\" /></Box>\n            <Box><FormTextField name=\"nextOfKin.phone\" control={control} label=\"Phone Number\" /></Box>\n            <Box><FormTextField name=\"nextOfKin.email\" control={control} label=\"Email\" /></Box>\n            <Box sx={{ gridColumn:'1 / -1' }}><FormTextField name=\"nextOfKin.address\" control={control} label=\"Address\" /></Box>\n            \n            {/* Next of Kin Province Autocomplete */}\n            <Box>\n              <Controller\n                name=\"nextOfKin.province\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <Autocomplete\n                    options={[...provinces]}\n                    value={field.value || null}\n                    onChange={(_, newValue) => {\n                      field.onChange(newValue || '');\n                      // Reset city when province changes\n                      const currentValues = watch();\n                      if (newValue !== field.value) {\n                        reset({ \n                          ...currentValues, \n                          nextOfKin: { \n                            ...currentValues.nextOfKin, \n                            city: '' \n                          } \n                        });\n                      }\n                    }}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"Province\"\n                        error={!!error}\n                        helperText={error?.message}\n                      />\n                    )}\n                    disableClearable={false}\n                    isOptionEqualToValue={(option, value) => option === value}\n                  />\n                )}\n              />\n            </Box>\n\n            {/* Next of Kin City Autocomplete */}\n            <Box>\n              <Controller\n                name=\"nextOfKin.city\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <Autocomplete\n                    options={selectedKinProvince ? getCitiesForProvince(selectedKinProvince) : []}\n                    value={field.value || null}\n                    onChange={(_, newValue) => field.onChange(newValue || '')}\n                    disabled={!selectedKinProvince}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        label=\"City/District\"\n                        error={!!error}\n                        helperText={error?.message || (!selectedKinProvince ? 'Select province first' : '')}\n                      />\n                    )}\n                    disableClearable={false}\n                    isOptionEqualToValue={(option, value) => option === value}\n                  />\n                )}\n              />\n            </Box>\n            <Box><FormNRCField name=\"nextOfKin.nrc\" control={control} label=\"NRC\" /></Box>\n            <Box><FormTextField name=\"nextOfKin.nationality\" control={control} label=\"Nationality\" /></Box>\n            <Box>\n              <Controller\n                name=\"nextOfKin.relationship\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <TextField\n                    {...field}\n                    select\n                    label=\"Relationship\"\n                    fullWidth\n                    error={!!error}\n                    helperText={error?.message}\n                  >\n                    {Object.entries(RELATIONSHIP_ID_MAP).map(([name, id]) => (\n                      <MenuItem key={id} value={name}>\n                        {id} - {name}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                )}\n              />\n            </Box>\n          </Box>\n        </Section>\n        <Section title=\"Reference\" toggle open={openRef} onToggle={()=>setOpenRef(o=>!o)} subtitle=\"Professional or character reference\">\n          <Box sx={{ display:'grid', gap:2, gridTemplateColumns:{ xs:'1fr', sm:'1fr 1fr' } }}>\n            <Box><FormTextField name=\"reference.name\" control={control} label=\"Name\" /></Box>\n            <Box><FormTextField name=\"reference.phone\" control={control} label=\"Phone\" /></Box>\n            <Box><FormTextField name=\"reference.email\" control={control} label=\"Email\" /></Box>\n            <Box sx={{ gridColumn:'1 / -1' }}><FormTextField name=\"reference.address\" control={control} label=\"Address\" /></Box>\n            <Box><FormNRCField name=\"reference.nrc\" control={control} label=\"NRC\" /></Box>\n            <Box>\n              <Controller\n                name=\"reference.relationship\"\n                control={control}\n                render={({ field, fieldState: { error } }) => (\n                  <TextField\n                    {...field}\n                    select\n                    label=\"Relationship\"\n                    fullWidth\n                    error={!!error}\n                    helperText={error?.message}\n                  >\n                    {Object.entries(RELATIONSHIP_ID_MAP).map(([name, id]) => (\n                      <MenuItem key={id} value={name}>\n                        {id} - {name}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                )}\n              />\n            </Box>\n          </Box>\n        </Section>\n      </Stack>\n      <Typography variant=\"caption\" sx={{ mt:2, display:'block', color:'text.secondary' }}>Only required fields will be validated; others are optional for now.</Typography>\n    </Box>\n  );\n};\n","/**\n * ALTUS API - Valid Bank Branch Mapping\n * \n * This file contains the complete, accurate mapping of all major Zambian banks\n * to their exact ALTUS-accepted branch names.\n * \n * ‚ö†Ô∏è CRITICAL: ALTUS Production API accepts ONLY these exact branch names.\n * Any deviation will result in validation errors from the backend.\n * \n * Last verified: December 3, 2025\n * Source: ALTUS Production API error messages (confirmed by actual API responses)\n */\n\n// ============================================================================\n// ALTUS-ACCEPTED BRANCH NAMES (29 Production Branches - CONFIRMED)\n// ============================================================================\n\n/**\n * Complete list of all valid ALTUS branch names.\n * These are the ONLY 29 branch names accepted by the ALTUS Production API.\n * \n * This list is compiled from ACTUAL API error messages received on Dec 3, 2025.\n * All branches have been confirmed by real production API responses.\n */\nexport const allValidBranches = [\n  // ========== PRODUCTION API BRANCHES (CONFIRMED BY API) ==========\n  // These 29 branches are the ONLY branches accepted by ALTUS Production API\n  \n  // Lusaka Province (11 branches + 1 HQ)\n  'Head Office',\n  'Lusaka Square',\n  'Lusaka South End',\n  'Lusaka Corporate Service Centre Branch',\n  'Kalingalinga',\n  'Tazara',\n  'Garden',\n  'Makumbi',\n  'Bread of Life',\n  'Longacres Prestige Branch',\n  'Manda Hill Branch',\n  'Matero Branch',\n  \n  // Copperbelt Province (5 branches)\n  'Ndola',\n  'Kitwe',\n  'Kitwe Agency',\n  'Chililabombwe',\n  'Chingola',\n  \n  // Northern Province (4 branches)\n  'Kasama',\n  'Mpulungu',\n  'Mbala',\n  'Mbala Branch Zambia',\n  \n  // Luapula Province (3 branches)\n  'Mansa',\n  'Mansa Branch',\n  'Mwense',\n  \n  // Eastern Province (2 branches)\n  'Chipata',\n  'Petauke Branch',\n  \n  // North-Western Province (2 branches)\n  'Solwezi',\n  'Mufumbwe',\n  \n  // Central Province (1 branch)\n  'Mkushi Branch',\n] as const;\n\n// Type-safe branch name type\nexport type ValidBranchName = typeof allValidBranches[number];\n\n// ============================================================================\n// BANK-TO-BRANCH MAPPING\n// ============================================================================\n\n/**\n * Mapping of Zambian banks to their ALTUS-accepted branch names.\n * Updated with proper bank-branch associations based on ALTUS API mappings.\n * Keys are ALTUS FinancialInstitutionId values for direct API compatibility.\n */\nexport const bankBranchMap = {\n  // ZNBS - Zambia National Building Society\n  'BNK20201490000000622': [\n    'Banking Society Business Park',\n    'Mufulira',\n    'Mpika',\n    'Mansa',\n    'Kapiri Mposhi',\n    'Livingstone',\n    'Mazabuka',\n    'Mongu',\n    'Luanshya',\n    'Solwezi',\n    'Kasama',\n    'Society House',\n    'Permanent House',\n    'Kabwe',\n    'Chipata',\n    'Choma',\n    'Soweto Agency',\n    'Chililabombwe',\n    'Chingola',\n    'Nyimba',\n    'Kitwe',\n    'Ndola'\n  ],\n\n  // AB Bank\n  'BNK20200430000000002': [\n    'Head Office',\n    'Cairo Main',\n    'Chilenje',\n    'Matero',\n    'Kalinglinga',\n    'Chelston',\n    'Garden',\n    'Kitwe'\n  ],\n\n  // Access Bank\n  'BNK20200430000000006': [\n    'Head Office',\n    'Cairo Road',\n    'Longacres',\n    'Acacia',\n    'Makeni',\n    'Ndola',\n    'Kitwe',\n    'Solwezi'\n  ],\n  'BNK20203020000000662': [\n    'Head Office',\n    'Northend',\n    'Longacres',\n    'Arcades',\n    'Ndola Centre Branch',\n    'Kitwe',\n    'Makeni',\n    'Mansa Centre Branch',\n    'Mbala Centre Branch',\n    'Mbala Main Branch',\n    'Ndola Main Branch',\n    'City Mall Branch - Solwezi',\n    'Solwezi Main Branch'\n  ],\n\n  // Atlas Mara Bank\n  'BNK20200430000000007': [\n    'Lusaka'\n  ],\n\n  // Bank of China\n  'BNK20200430000000008': [\n    'Lusaka',\n    'Kitwe'\n  ],\n\n  // ABSA Bank\n  'BNK20200440000000035': [\n    'Head Office',\n    'Head Office - Elunda',\n    'Lusaka - Kamwala',\n    'Lusaka - Northend',\n    'Lusaka - Matero',\n    'Lusaka Business Centre',\n    'Lusaka Longacres',\n    'Chilenje',\n    'Lusaka Industrial',\n    'University of Zambia Lusaka',\n    'Soweto',\n    'Chelstone',\n    'Kabwata',\n    'Lusaka - Chawama',\n    'Manda Hill',\n    'Lusaka Operation Processing Centre',\n    'Kabelenga',\n    'Elunda Premium Banking Centre',\n    'Ndola Business Centre',\n    'Ndola Operations Processing Centre',\n    'Ndola - Masala',\n    'Kitwe Business Centre',\n    'Kitwe Chimwemwe',\n    'Kitwe Parklands Center',\n    'Kitwe Operations Processing Centre',\n    'Chingola & Prestige',\n    'Chililabombwe',\n    'Mufulira & Prestige',\n    'Kalulushi',\n    'Luanshya',\n    'Kasama',\n    'Kabwe & Prestige',\n    'Livingstone',\n    'Chipata',\n    'Choma',\n    'Mbala',\n    'Nakonde',\n    'Mpika',\n    'Mansa',\n    'Mkushi',\n    'Kapiri Mposhi',\n    'Lundazi',\n    'Mfuwe',\n    'Solwezi',\n    'Mongu',\n    'Kafue',\n    'Chirundu',\n    'Mazabuka',\n    'Monze',\n    'Kalomo',\n    'Petauke',\n    'Chongwe',\n    'Katete',\n    'Chambishi',\n    'Mumbwa',\n    'Levy'\n  ],\n  'BNK20200830000000616': [\n    'Petauke Branch',\n    'Manda Hill Branch',\n    'Matero Branch',\n    'Mkushi Branch',\n    'Mbala Branch Zambia',\n    'Longacres Prestige Branch',\n    'Lusaka Corporate Service Centre Branch',\n    'Mansa Branch'\n  ],\n\n  // Cavmont Bank\n  'BNK20200440000000036': [\n    'Head Office',\n    'Lusaka Square',\n    'Lusaka South End',\n    'Kalingalinga',\n    'Tazara',\n    'Garden',\n    'Makumbi',\n    'Bread of Life',\n    'Ndola',\n    'Kitwe'\n  ],\n\n  // Citibank Zambia\n  'BNK20200450000000043': [\n    'Lusaka'\n  ],\n\n  // Ecobank\n  'BNK20200450000000044': [\n    'Lusaka'\n  ],\n\n  // First Alliance Bank\n  'BNK20200450000000046': [\n    'Lusaka'\n  ],\n\n  // First Capital Bank\n  'BNK20200450000000049': [\n    'Lusaka'\n  ],\n\n  // First National Bank - Most comprehensive branch network\n  'BNK20200480000000053': [\n    'Commercial Suite',\n    'Industrial',\n    'FNB Operation Centre',\n    'Head Office',\n    'Electronic Banking',\n    'Treasury',\n    'Manda Hill',\n    'Vehicle and Asset Finance',\n    'Makeni Mall',\n    'Home Loan',\n    'Branchless Banking',\n    'Electronic Wallet',\n    'CIB Corporate',\n    'Premier Banking',\n    'Agriculture Centre',\n    'Corporate Investment Banking',\n    'Chilenje',\n    'Cash Centre',\n    'PHI Branch',\n    'Cairo',\n    'Kabulonga',\n    'Ndola',\n    'Jacaranda Mall',\n    'Kitwe',\n    'Mukuba Mall',\n    'Kitwe Industrial',\n    'Chingola',\n    'Mufulira',\n    'Luanshya',\n    'Kabwe',\n    'Livingstone',\n    'Chipata',\n    'Choma',\n    'Mkushi',\n    'Solwezi',\n    'Kalumbila',\n    'Mazabuka'\n  ],\n  'FNB': [\n    'Commercial Suite',\n    'Industrial',\n    'FNB Operation Centre',\n    'Head Office',\n    'Electronic Banking',\n    'Treasury',\n    'Manda Hill',\n    'Vehicle and Asset Finance',\n    'Makeni Mall',\n    'Home Loan',\n    'Branchless Banking',\n    'Electronic Wallet',\n    'CIB Corporate',\n    'Premier Banking',\n    'Agriculture Centre',\n    'Corporate Investment Banking',\n    'Chilenje',\n    'Cash Centre',\n    'PHI Branch',\n    'Cairo',\n    'Kabulonga',\n    'Ndola',\n    'Jacaranda Mall',\n    'Kitwe',\n    'Mukuba Mall',\n    'Kitwe Industrial',\n    'Chingola',\n    'Mufulira',\n    'Luanshya',\n    'Kabwe',\n    'Livingstone',\n    'Chipata',\n    'Choma',\n    'Mkushi',\n    'Solwezi',\n    'Kalumbila',\n    'Mazabuka'\n  ],\n\n  // Indo Zambia Bank\n  'BNK20200520000000062': [\n    'Lusaka'\n  ],\n\n  // Intermarket Banking Corporation\n  'BNK20200520000000065': [\n    'Lusaka'\n  ],\n\n  // Investrust Bank\n  'BNK20200550000000081': [\n    'Lusaka'\n  ],\n\n  // National Savings and Credit Bank\n  'BNK20200760000000614': [\n    'Cosmopolitan'\n  ],\n\n  // Natsave\n  'BNK20201490000000621': [\n    'Chama',\n    'Chavuma',\n    'Chilubi Island',\n    'Chimwemwe',\n    'Chinsali',\n    'Chipata',\n    'Choma',\n    'Chongwe',\n    'Kabwe',\n    'Kalabo',\n    'Kaputa',\n    'Kasama',\n    'Kasempa',\n    'Kazungula',\n    'Kitwe',\n    'Livingstone',\n    'Luanshya',\n    'Lumwana',\n    'Lufwanyama',\n    'Lukulu',\n    'Credit Centre',\n    'Lusaka Chilenje',\n    'Lusaka Main Branch',\n    'Lusaka Matero',\n    'Lusaka Northend',\n    'Luwingu',\n    'Mansa',\n    'Mongu',\n    'Mpika',\n    'Mporokoso',\n    'Mpongwe',\n    'Mumbwa',\n    'Mwense',\n    'Nchelenge',\n    'Ndola',\n    'Petauke',\n    'Solwezi',\n    'Zambezi',\n    'Head office',\n    'Cosmopolitan'\n  ],\n\n  // New Bank\n  'BNK20200690000000253': [\n    'Lusaka'\n  ],\n\n  // Stanbic Bank Zambia\n  'BNK20200590000000113': [\n    'Lusaka'\n  ],\n  'Stanbic Bank': [\n    'Lusaka'\n  ],\n  'Stanbic': [\n    'Lusaka'\n  ],\n\n  // Standard Chartered Bank Zambia\n  'BNK20200590000000119': [\n    'Lusaka'\n  ],\n  'Standard Chartered': [\n    'Lusaka'\n  ],\n\n  // The United Bank of Zambia\n  'BNK20200590000000120': [\n    'Lusaka'\n  ],\n\n  // United Bank for Africa\n  'BNK20200590000000121': [\n    'Lusaka'\n  ],\n\n  // Zambia Industrial Commercial Bank\n  'BNK20200590000000122': [\n    'Lusaka'\n  ],\n\n  // Zambia National Commercial Bank\n  'BNK20200590000000123': [\n    'Head Office',\n    'Lusaka Main Branch',\n    'Ndola',\n    'Kitwe',\n    'Livingstone',\n    'Kasama',\n    'Chipata'\n  ],\n\n  // Bayport Financial Services\n  'BNK20213160000000663': [\n    'Lusaka Business Centre'\n  ],\n\n  // FAB\n  'BNK20222300000000664': [\n    'Lusaka Main Branch'\n  ]\n} as const satisfies Record<string, readonly string[]>;\n\n// Type-safe bank name type\nexport type BankName = keyof typeof bankBranchMap;\n\n// ============================================================================\n// BRANCH GROUPING BY PROVINCE/REGION\n// ============================================================================\n\n/**\n * Branches grouped by geographic location for better UX.\n * Used for grouped dropdowns and regional filtering.\n * \n * All branches confirmed by Production API (29 total).\n */\nexport const branchGroups = {\n  'Lusaka Province - Head Office': [\n    'Head Office',\n    'Lusaka Corporate Service Centre Branch',\n  ] as const,\n  \n  'Lusaka Province - Retail Branches': [\n    'Lusaka Square',\n    'Lusaka South End',\n    'Kalingalinga',\n    'Tazara',\n    'Garden',\n    'Makumbi',\n    'Bread of Life',\n    'Longacres Prestige Branch',\n    'Manda Hill Branch',\n    'Matero Branch',\n  ] as const,\n  \n  'Copperbelt Province': [\n    'Ndola',\n    'Kitwe',\n    'Kitwe Agency',\n    'Chililabombwe',\n    'Chingola',\n  ] as const,\n  \n  'Northern Province': [\n    'Kasama',\n    'Mpulungu',\n    'Mbala',\n    'Mbala Branch Zambia',\n  ] as const,\n  \n  'Luapula Province': [\n    'Mansa',\n    'Mansa Branch',\n    'Mwense',\n  ] as const,\n  \n  'Eastern Province': [\n    'Chipata',\n    'Petauke Branch',\n  ] as const,\n  \n  'North-Western Province': [\n    'Solwezi',\n    'Mufumbwe',\n  ] as const,\n  \n  'Central Province': [\n    'Mkushi Branch',\n  ] as const,\n} as const;\n\n// ============================================================================\n// HELPER FUNCTIONS\n// ============================================================================\n\n/**\n * Get the province/region group for a given branch name\n */\nexport const getBranchGroup = (branchName: string): string | null => {\n  for (const [group, branches] of Object.entries(branchGroups)) {\n    if ((branches as readonly string[]).includes(branchName)) {\n      return group;\n    }\n  }\n  return null;\n};\n\n/**\n * Validate if a branch name is accepted by ALTUS\n */\nexport const isValidBranch = (branchName: string): boolean => {\n  return allValidBranches.includes(branchName as any);\n};\n\n/**\n * Get branches for a specific bank using ALTUS FinancialInstitutionId\n */\nexport const getBranchesForBank = (bankId: string): readonly string[] => {\n  return bankBranchMap[bankId as BankName] || allValidBranches;\n};\n\n/**\n * Get all available bank names\n */\nexport const getAllBankNames = (): string[] => {\n  return Object.keys(bankBranchMap);\n};\n\n/**\n * Search/filter branches by partial match (case-insensitive)\n */\nexport const searchBranches = (query: string, bankName?: string): string[] => {\n  const branches = bankName ? getBranchesForBank(bankName) : allValidBranches;\n  const lowerQuery = query.toLowerCase();\n  return branches.filter(branch => \n    branch.toLowerCase().includes(lowerQuery)\n  );\n};\n\n/**\n * Check if a bank is FNB using ALTUS FinancialInstitutionId\n */\nexport const isFNBBank = (bankId: string): boolean => {\n  return bankId === 'BNK20200480000000053'; // FNB ALTUS ID\n};\n\n/**\n * Get validation warning for non-FNB banks using ALTUS ID\n */\nexport const getNonFNBWarning = (bankId: string): string | null => {\n  if (isFNBBank(bankId)) {\n    return null;\n  }\n  return `‚ö†Ô∏è Warning: Only FNB branches are fully validated by ALTUS API. Other banks may cause validation errors. We recommend using FNB for guaranteed approval.`;\n};\n\n/**\n * Validate bank and branch combination\n */\nexport const validateBankBranch = (bankName: string, branchName: string): {\n  isValid: boolean;\n  error?: string;\n  warning?: string;\n} => {\n  // Check if branch is in the valid list\n  if (!isValidBranch(branchName)) {\n    return {\n      isValid: false,\n      error: `Invalid branch: \"${branchName}\". Must be one of the 29 ALTUS-approved branches.`\n    };\n  }\n\n  // Check if it's a non-FNB bank\n  const warning = getNonFNBWarning(bankName);\n  \n  return {\n    isValid: true,\n    warning: warning || undefined\n  };\n};\n\n// ============================================================================\n// EXPORT SUMMARY\n// ============================================================================\n\nexport default {\n  allValidBranches,\n  bankBranchMap,\n  branchGroups,\n  getBranchGroup,\n  isValidBranch,\n  getBranchesForBank,\n  getAllBankNames,\n  searchBranches,\n  isFNBBank,\n  getNonFNBWarning,\n  validateBankBranch,\n};\n","import React from 'react';\nimport { TextField, TextFieldProps } from '@mui/material';\nimport { Controller, Control } from 'react-hook-form';\n\ninterface FormTextFieldProps extends Omit<TextFieldProps, 'name'> {\n  name: string;\n  control: Control<any>;\n}\n\nexport const FormTextField: React.FC<FormTextFieldProps> = ({ name, control, ...rest }) => {\n  return (\n    <Controller\n      name={name}\n      control={control}\n      render={({ field, fieldState }) => (\n        <TextField\n          {...field}\n          {...rest}\n          fullWidth\n          error={!!fieldState.error}\n          helperText={fieldState.error?.message}\n        />\n      )}\n    />\n  );\n};\n"],"names":["optionalEmail","z","optional","refine","v","test","message","phoneRule","min","customerSchema","firstName","lastName","phone","email","address","nrc","nrcIssueDate","dateOfBirth","title","city","province","postalCode","preferredBranch","purpose","gender","nationality","otherNationality","occupation","maritalStatus","accommodationType","employerName","employerId","payrollNumber","salary","employmentDate","employmentType","bankName","bankBranch","accountNumber","accountType","nextOfKin","relationship","reference","name","calculatorSchema","amount","tenureMonths","max","formatNRC","value","limitedDigits","replace","substring","length","concat","FormNRCField","_ref","control","rest","_objectWithoutProperties","_excluded","_jsx","Controller","render","_ref2","_fieldState$error","field","fieldState","TextField","_objectSpread","fullWidth","error","helperText","onChange","e","parsed","target","placeholder","inputProps","maxLength","provinces","citiesByProvince","branchByProvince","getCitiesForProvince","getBranchesForProvince","CustomerStep","customer","setCustomer","useWizardData","createRetailCustomer","useAltus","push","useSnackbar","openKin","setOpenKin","React","openRef","setOpenRef","getBankIdFromName","BANK_ID_MAP","handleSubmit","reset","watch","formState","errors","trigger","useForm","defaultValues","resolver","zodResolver","mode","nationalityValue","selectedBankName","selectedProvince","selectedKinProvince","useEffect","window","__customerStepSubmit","async","missingFields","Object","keys","forEach","key","_errors$errorKey","errorKey","_errors$errorKey2","slice","join","values","Section","subtitle","toggle","open","onToggle","children","_jsxs","Paper","elevation","sx","p","border","borderColor","borderRadius","Stack","direction","spacing","alignItems","mb","IconButton","size","onClick","transform","transition","ExpandMoreIcon","Typography","variant","fontWeight","color","Collapse","in","unmountOnExit","timeout","Box","gutterBottom","display","gap","gridTemplateColumns","xs","sm","FormTextField","label","select","MenuItem","type","InputLabelProps","shrink","gridColumn","_ref3","Autocomplete","options","_","newValue","currentValues","renderInput","params","required","disableClearable","isOptionEqualToValue","option","_ref4","disabled","_ref5","currentBranch","bankId","getBranchesForBank","allValidBranches","includes","_ref6","provinceFilteredBranches","availableBranches","bankFilteredBranches","filter","branch","groupBy","getBranchGroup","filterOptions","_ref7","inputValue","query","toLowerCase","InputProps","endAdornment","_Fragment","Tooltip","fontStyle","arrow","placement","InfoOutlinedIcon","fontSize","cursor","mr","renderOption","props","_createElement","flexDirection","width","mt","Chip","icon","o","_ref8","_ref9","_ref0","entries","RELATIONSHIP_ID_MAP","map","_ref1","id","_ref10","_ref11","bankBranchMap","branchGroups","branchName","group","branches","isValidBranch"],"sourceRoot":""}