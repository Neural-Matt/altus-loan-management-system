"use strict";(self.webpackChunkaltus_loan_application_portal=self.webpackChunkaltus_loan_application_portal||[]).push([[408],{8408:(n,t,a)=>{a.d(t,{IZ:()=>o,Pj:()=>r,computeLocalLoanEstimate:()=>m});const e={"instant-salary-advance":{name:"Instant Salary Advances",maxTenureMonths:3,rateStructure:[{minAmount:500,maxAmount:900,monthlyRate:.3},{minAmount:1e3,maxAmount:2500,monthlyRate:.25},{minAmount:3e3,maxAmount:5e3,monthlyRate:.18}]},"corporate-payroll":{name:"Corporate Payroll",maxTenureMonths:24,rateStructure:[{minAmount:0,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.05}]},"government-personal":{name:"Government Personal Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-army":{name:"Zambia Army Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-airforce":{name:"Zambia Airforce Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]}};function o(n){return e[n].maxTenureMonths}function r(){return Object.entries(e).map(n=>{let[t,a]=n;return{key:t,name:a.name,maxTenure:a.maxTenureMonths}})}function m(n){let{principal:t,tenureMonths:a,loanType:r="instant-salary-advance"}=n;if(t<=0||a<=0)throw new Error("Principal and tenure must be positive");const m=function(n,t){if("instant-salary-advance"===t){if(n<500)return{valid:!1,message:"Minimum amount for Instant Salary Advances is K500"};if(n>5e3)return{valid:!1,message:"Maximum amount for Instant Salary Advances is K5000"}}return{valid:!0}}(t,r);if(!m.valid)throw new Error(m.message);const u=o(r);if(a>u)throw new Error("Maximum tenure for ".concat(e[r].name," is ").concat(u," months"));const i=function(n,t){const a=e[t].rateStructure.find(t=>n>=t.minAmount&&n<=t.maxAmount);if(!a)throw new Error("No rate structure found for amount ".concat(n," in product ").concat(t));return a.monthlyRate}(t,r),s=Math.round(t*(1+i*a)),l=Math.round(s/a),c=[];let h=t,A=0;for(let e=1;e<=a;e++){const n=h,t=Math.round(n*i);let a=l-t;a>h&&(a=h);const o=n-a;A+=t,c.push({month:e,openingBalance:n,interestPortion:t,principalPortion:a,installment:t+a,closingBalance:o<1?0:o}),h=o}return{monthlyInstallment:l,totalInterest:A,totalPayable:t+A,monthlyRate:i,schedule:c}}}}]);
//# sourceMappingURL=408.378d29bd.chunk.js.map