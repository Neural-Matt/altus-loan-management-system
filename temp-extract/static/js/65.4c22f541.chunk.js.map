{"version":3,"file":"static/js/65.4c22f541.chunk.js","mappings":"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","sources":["../node_modules/@mui/icons-material/esm/EditOutlined.js","../node_modules/@mui/icons-material/esm/WarningAmber.js","../node_modules/@mui/icons-material/esm/CheckCircleOutline.js","../node_modules/@mui/icons-material/esm/PersonOutline.js","../node_modules/@mui/icons-material/esm/CalculateOutlined.js","../node_modules/@mui/icons-material/esm/FolderOpen.js","utils/applicationPdfGenerator.ts","components/wizard/steps/ReviewStep.tsx","../node_modules/@mui/icons-material/esm/Download.js"],"sourcesContent":["\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z\"\n}), 'EditOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5.99 19.53 19H4.47zM12 2 1 21h22z\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M13 16h-2v2h2zm0-6h-2v5h2z\"\n}, \"1\")], 'WarningAmber');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}), 'CheckCircleOutline');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4\"\n}), 'PersonOutline');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon([/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14z\"\n}, \"0\"), /*#__PURE__*/_jsx(\"path\", {\n  d: \"M6.25 7.72h5v1.5h-5zM13 15.75h5v1.5h-5zm0-2.5h5v1.5h-5zM8 18h1.5v-2h2v-1.5h-2v-2H8v2H6V16h2zm6.09-7.05 1.41-1.41 1.41 1.41 1.06-1.06-1.41-1.42 1.41-1.41L16.91 6 15.5 7.41 14.09 6l-1.06 1.06 1.41 1.41-1.41 1.42z\"\n}, \"1\")], 'CalculateOutlined');","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 12H4V8h16z\"\n}), 'FolderOpen');","// Utility for generating a comprehensive PDF summary of the loan application\r\nimport { jsPDF } from 'jspdf';\r\n\r\ninterface ApplicationSummaryData {\r\n  customer: any;\r\n  loan: any;\r\n  documents: Array<{\r\n    type: string;\r\n    status?: string;\r\n    notes?: string;\r\n  }>;\r\n  readiness: any;\r\n  generatedAt: string;\r\n}\r\n\r\nconst formatDate = (dateString: string) => {\r\n  try {\r\n    return new Date(dateString).toLocaleString();\r\n  } catch {\r\n    return dateString;\r\n  }\r\n};\r\n\r\nconst formatCurrency = (amount: number | string) => {\r\n  const num = typeof amount === 'string' ? parseFloat(amount) : amount;\r\n  return !isNaN(num) ? `ZMW ${num.toLocaleString()}` : String(amount);\r\n};\r\n\r\nexport const generateApplicationPDF = (data: ApplicationSummaryData): File => {\r\n  const pdf = new jsPDF();\r\n  let yPosition = 20;\r\n  const pageWidth = pdf.internal.pageSize.width;\r\n  const margin = 20;\r\n\r\n  // Helper function to add text with automatic page breaks\r\n  const addText = (text: string, x: number, fontSize: number = 10, isBold: boolean = false) => {\r\n    pdf.setFontSize(fontSize);\r\n    if (isBold) {\r\n      pdf.setFont('helvetica', 'bold');\r\n    } else {\r\n      pdf.setFont('helvetica', 'normal');\r\n    }\r\n    \r\n    // Check if we need a new page\r\n    if (yPosition > 270) {\r\n      pdf.addPage();\r\n      yPosition = 20;\r\n    }\r\n    \r\n    pdf.text(text, x, yPosition);\r\n    yPosition += fontSize * 0.5 + 2;\r\n  };\r\n\r\n  const addSection = (title: string) => {\r\n    yPosition += 5;\r\n    addText(title, margin, 14, true);\r\n    yPosition += 2;\r\n  };\r\n\r\n  const addField = (label: string, value: string) => {\r\n    addText(`${label}: ${value}`, margin + 5, 10);\r\n  };\r\n\r\n  // Header\r\n  pdf.setFillColor(1, 26, 65); // #011A41\r\n  pdf.rect(0, 0, pageWidth, 40, 'F');\r\n  \r\n  pdf.setTextColor(255, 255, 255);\r\n  pdf.setFontSize(20);\r\n  pdf.setFont('helvetica', 'bold');\r\n  pdf.text('ALTUS LOAN APPLICATION SUMMARY', margin, 25);\r\n  \r\n  pdf.setTextColor(0, 0, 0);\r\n  yPosition = 50;\r\n\r\n  // Generation info\r\n  addText(`Generated: ${formatDate(data.generatedAt)}`, margin, 8);\r\n  addText(`Application Status: ${data.readiness?.ok ? 'READY FOR SUBMISSION' : 'INCOMPLETE'}`, margin, 8, true);\r\n  yPosition += 5;\r\n\r\n  // Customer Information Section\r\n  addSection('APPLICANT INFORMATION');\r\n  \r\n  if (data.customer) {\r\n    addField('First Name', data.customer.firstName || 'Not provided');\r\n    addField('Last Name', data.customer.lastName || 'Not provided');\r\n    addField('NRC Number', data.customer.nrc || 'Not provided');\r\n    addField('Phone Number', data.customer.phone || 'Not provided');\r\n    addField('Email Address', data.customer.email || 'Not provided');\r\n    addField('Residential Address', data.customer.address || 'Not provided');\r\n    addField('Gender', data.customer.gender || 'Not provided');\r\n    addField('Nationality', data.customer.nationality === 'Other' ? data.customer.otherNationality || 'Not provided' : data.customer.nationality || 'Not provided');\r\n    addField('Occupation', data.customer.occupation || 'Not provided');\r\n    addField('Marital Status', data.customer.maritalStatus || 'Not provided');\r\n    addField('Accommodation Type', data.customer.accommodationType || 'Not provided');\r\n    addField('Employer Name', data.customer.employerName || 'Not provided');\r\n    addField('Employee/MAN Number', data.customer.payrollNumber || 'Not provided');\r\n    addField('Purpose of Loan', data.customer.purpose || 'Not provided');\r\n  }\r\n\r\n  // Next of Kin Information\r\n  if (data.customer?.nextOfKin) {\r\n    yPosition += 5;\r\n    addSection('NEXT OF KIN INFORMATION');\r\n    const nok = data.customer.nextOfKin;\r\n    addField('Full Name', `${nok.firstName || ''} ${nok.lastName || ''}`.trim() || 'Not provided');\r\n    addField('Phone Number', nok.phone || 'Not provided');\r\n    addField('Email Address', nok.email || 'Not provided');\r\n    addField('Address', nok.address || 'Not provided');\r\n    addField('NRC Number', nok.nrc || 'Not provided');\r\n    addField('Nationality', nok.nationality || 'Not provided');\r\n    addField('Relationship', nok.relationship || 'Not provided');\r\n  }\r\n\r\n  // Reference Information\r\n  if (data.customer?.reference) {\r\n    yPosition += 5;\r\n    addSection('REFERENCE INFORMATION');\r\n    const ref = data.customer.reference;\r\n    addField('Name', ref.name || 'Not provided');\r\n    addField('Phone Number', ref.phone || 'Not provided');\r\n    addField('Email Address', ref.email || 'Not provided');\r\n    addField('Address', ref.address || 'Not provided');\r\n  }\r\n\r\n  // Loan Details Section\r\n  yPosition += 5;\r\n  addSection('LOAN DETAILS');\r\n  \r\n  if (data.loan) {\r\n    addField('Loan Amount', data.loan.amount ? formatCurrency(data.loan.amount) : 'Not specified');\r\n    addField('Loan Tenure', data.loan.tenureMonths ? `${data.loan.tenureMonths} months` : 'Not specified');\r\n    addField('Product Code', data.loan.productCode || 'Not specified');\r\n    \r\n    if (data.loan.emiResult) {\r\n      const emi = data.loan.emiResult;\r\n      addField('Monthly EMI', emi.monthlyEmi ? formatCurrency(emi.monthlyEmi) : 'Not calculated');\r\n      addField('Total Interest', emi.totalInterest ? formatCurrency(emi.totalInterest) : 'Not calculated');\r\n      addField('Total Amount Payable', emi.totalPayable ? formatCurrency(emi.totalPayable) : 'Not calculated');\r\n      addField('Interest Rate', emi.interestRateAnnual ? `${emi.interestRateAnnual}% per annum` : 'Not specified');\r\n    }\r\n  }\r\n\r\n  // Documents Section\r\n  yPosition += 5;\r\n  addSection('DOCUMENTS STATUS');\r\n  \r\n  if (data.documents && data.documents.length > 0) {\r\n    data.documents.forEach(doc => {\r\n      const docName = getDocumentDisplayName(doc.type);\r\n      const status = doc.status || 'Not uploaded';\r\n      const statusText = status.charAt(0).toUpperCase() + status.slice(1);\r\n      addField(docName, statusText + (doc.notes ? ` (${doc.notes})` : ''));\r\n    });\r\n  } else {\r\n    addText('No documents uploaded', margin + 5, 10);\r\n  }\r\n\r\n  // Application Readiness\r\n  yPosition += 10;\r\n  addSection('APPLICATION READINESS SUMMARY');\r\n  \r\n  if (data.readiness) {\r\n    addField('Overall Status', data.readiness.ok ? 'READY FOR SUBMISSION' : 'REQUIRES ATTENTION');\r\n    \r\n    if (data.readiness.issues && data.readiness.issues.length > 0) {\r\n      yPosition += 3;\r\n      addText('Outstanding Issues:', margin + 5, 10, true);\r\n      data.readiness.issues.forEach((issue: string) => {\r\n        addText(`• ${issue}`, margin + 15, 9);\r\n      });\r\n    }\r\n  }\r\n\r\n  // Footer\r\n  const pageHeight = pdf.internal.pageSize.height;\r\n  pdf.setFontSize(8);\r\n  pdf.setTextColor(128, 128, 128);\r\n  pdf.text('This document is computer generated and contains confidential information.', margin, pageHeight - 20);\r\n  pdf.text('Generated by Altus Loan Management System', margin, pageHeight - 12);\r\n\r\n  // Generate file\r\n  const pdfBlob = pdf.output('blob');\r\n  const clientNRC = data.customer?.nrc ? String(data.customer.nrc).replace(/[^\\w]/g, '') : 'Unknown';\r\n  const fileName = `Altus_Loan_Application_${clientNRC}_${new Date().toISOString().split('T')[0]}.pdf`;\r\n  \r\n  return new File([pdfBlob], fileName, { type: 'application/pdf' });\r\n};\r\n\r\n// Helper function to get readable document names\r\nconst getDocumentDisplayName = (type: string): string => {\r\n  const names: Record<string, string> = {\r\n    'nrc-front': 'National Registration Card',\r\n    'nrc-back': 'NRC Back',\r\n    'payslip-1': 'Payslip (Oldest)',\r\n    'payslip-2': 'Payslip (Middle)',\r\n    'payslip-3': 'Payslip (Recent)',\r\n    'reference-letter': 'Application Form/Pre-Approval Form',\r\n    'work-id': 'Work ID',\r\n    'selfie': 'Applicant Photo',\r\n    'bank-statement': 'Bank Statement',\r\n    'combined-payslips': 'Combined Payslips Document'\r\n  };\r\n  return names[type] || type.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\r\n};","import React, { useMemo, useEffect, useState } from 'react';\r\nimport { Box, Typography, Stack, IconButton, Chip, Paper, Tooltip, Divider, CircularProgress, Button } from '@mui/material';\r\nimport EditOutlinedIcon from '@mui/icons-material/EditOutlined';\r\nimport WarningAmberIcon from '@mui/icons-material/WarningAmber';\r\nimport CheckCircleOutlineIcon from '@mui/icons-material/CheckCircleOutline';\r\nimport DescriptionIcon from '@mui/icons-material/Description';\r\nimport PersonOutlineIcon from '@mui/icons-material/PersonOutline';\r\nimport CalculateOutlinedIcon from '@mui/icons-material/CalculateOutlined';\r\nimport FolderOpenIcon from '@mui/icons-material/FolderOpen';\r\nimport { useWizard } from '../WizardContext';\r\nimport { useWizardData } from '../WizardDataContext';\r\nimport DownloadIcon from '@mui/icons-material/Download';\r\nimport { generateApplicationPDF } from '../../../utils/applicationPdfGenerator';\r\n\r\nexport const ReviewStep: React.FC = () => {\r\n  const { goTo } = useWizard();\r\n  const { customer, loan, documents } = useWizardData();\r\n\r\n  (window as any).__reviewStepValidate = async () => true;\r\n\r\n  const nrcFront = documents.find(d => d.type === 'nrc-front');\r\n  const nrcBack = documents.find(d => d.type === 'nrc-back');\r\n  const payslip1 = documents.find(d => d.type === 'payslip-1' || d.type === 'payslip'); // legacy 'payslip'\r\n  const payslip2 = documents.find(d => d.type === 'payslip-2');\r\n  const payslip3 = documents.find(d => d.type === 'payslip-3');\r\n  const referenceLetter = documents.find(d => d.type === 'reference-letter');\r\n  const workId = documents.find(d => d.type === 'work-id');\r\n  const selfie = documents.find(d => d.type === 'selfie');\r\n  const bank = documents.find(d => d.type === 'bank-statement');\r\n\r\n  const anyMismatch = [nrcFront, nrcBack].some(d => d?.verificationNotes?.includes('mismatch'));\r\n  const loanReady = !!(loan.amount && loan.tenureMonths && loan.emiResult);\r\n  const docsReady = nrcFront?.status === 'verified' && nrcBack?.status === 'verified' && [payslip1,payslip2,payslip3].every(p => p?.status === 'verified');\r\n\r\n  const readiness = useMemo(() => {\r\n    const issues: string[] = [];\r\n    if (!loanReady) issues.push('Loan calculation incomplete');\r\n    if (!docsReady) issues.push('Required documents not fully verified');\r\n    if (anyMismatch) issues.push('NRC mismatch detected');\r\n    return { ok: issues.length === 0, issues };\r\n  }, [loanReady, docsReady, anyMismatch]);\r\n\r\n  // Progress percentage (simple weighting: loan 40, docs 40, mismatch resolved 20)\r\n  const progressPct = useMemo(() => {\r\n    let pct = 0;\r\n    if (loanReady) pct += 40; else if (loan.amount || loan.tenureMonths) pct += 15;\r\n    if (docsReady) pct += 40; else {\r\n      const requiredList = [nrcFront, nrcBack, payslip1, payslip2, payslip3];\r\n      const verifiedCount = requiredList.filter(d => d?.status === 'verified').length;\r\n      pct += (verifiedCount / requiredList.length) * 40;\r\n    }\r\n    if (!anyMismatch) pct += 20; else if ((nrcFront || nrcBack)) pct += 5; // small credit if at least uploaded\r\n    return Math.min(100, Math.round(pct));\r\n  }, [loanReady, docsReady, anyMismatch, nrcFront, nrcBack, payslip1, payslip2, payslip3, loan.amount, loan.tenureMonths]);\r\n\r\n  // Animated progress value\r\n  const [animatedProgress, setAnimatedProgress] = useState(progressPct);\r\n  useEffect(() => {\r\n    if (progressPct === animatedProgress) return; // nothing to animate\r\n    const start = animatedProgress;\r\n    const end = progressPct;\r\n    const duration = 600; // ms\r\n    const startTime = performance.now();\r\n    let frame: number;\r\n    const easeOutCubic = (t:number) => 1 - Math.pow(1 - t, 3);\r\n    const tick = (now: number) => {\r\n      const elapsed = now - startTime;\r\n      const t = Math.min(1, elapsed / duration);\r\n      const eased = start + (end - start) * easeOutCubic(t);\r\n      setAnimatedProgress(eased);\r\n      if (t < 1) frame = requestAnimationFrame(tick);\r\n    };\r\n    frame = requestAnimationFrame(tick);\r\n    return () => cancelAnimationFrame(frame);\r\n  }, [progressPct, animatedProgress]);\r\n\r\n  // Snapshot & diff logic\r\n  const [initialSnapshot, setInitialSnapshot] = useState(() => {\r\n    if (typeof window === 'undefined') return null;\r\n    const existing = sessionStorage.getItem('review_initial_snapshot');\r\n    if (existing) return JSON.parse(existing);\r\n    const snap = { customer, loan, documents: documents.map(d => ({ type:d.type, status:d.status })) };\r\n    sessionStorage.setItem('review_initial_snapshot', JSON.stringify(snap));\r\n    return snap;\r\n  });\r\n\r\n  const resetBaseline = () => {\r\n    const snap = { customer, loan, documents: documents.map(d => ({ type:d.type, status:d.status })) };\r\n    sessionStorage.setItem('review_initial_snapshot', JSON.stringify(snap));\r\n    setInitialSnapshot(snap);\r\n  };\r\n\r\n  const diffs = useMemo(() => {\r\n    if (!initialSnapshot) return [] as string[];\r\n    const changes: string[] = [];\r\n    // Customer diff\r\n    ['firstName','lastName','email','phone','nrc'].forEach(k => {\r\n      if ((customer as any)[k] !== (initialSnapshot.customer as any)[k]) changes.push(`Customer ${k} changed`);\r\n    });\r\n    // Loan diff\r\n    ['amount','tenureMonths'].forEach(k => { if ((loan as any)[k] !== (initialSnapshot.loan as any)[k]) changes.push(`Loan ${k} changed`); });\r\n    if (!!loan.emiResult !== !!initialSnapshot.loan.emiResult) changes.push('Loan calculation state updated');\r\n    // Documents diff\r\n    documents.forEach(d => {\r\n      const prev = initialSnapshot.documents.find((p:any) => p.type === d.type);\r\n      if (!prev) changes.push(`Document added: ${d.type}`);\r\n      else if (prev.status !== d.status) changes.push(`Document ${d.type} status: ${prev.status} → ${d.status}`);\r\n    });\r\n    return changes;\r\n  }, [initialSnapshot, customer, loan, documents]);\r\n\r\n  const metricInfo: Record<string,string> = {\r\n    Principal: 'Original loan amount you are requesting.',\r\n    Monthly: 'Estimated monthly repayment (principal + interest).',\r\n    'Total Interest': 'Total interest payable over the loan term.',\r\n    'Total Payable': 'Principal plus total interest.'\r\n  };\r\n  const Metric: React.FC<{ label: string; value: React.ReactNode; accent?: boolean; }> = ({ label, value, accent }) => (\r\n    <Tooltip title={metricInfo[label] || ''} placement=\"top\" arrow>\r\n      <Box sx={{ p:1.5, flex:1, minWidth:140, cursor:'help', borderRadius:2, '&:hover':{ background:'rgba(0,0,0,0.04)' } }}>\r\n        <Typography variant=\"caption\" sx={{ letterSpacing:0.5, color:'text.secondary' }}>{label.toUpperCase()}</Typography>\r\n        <Typography variant={accent ? 'h6' : 'subtitle1'} sx={{ fontWeight:700, mt:0.5 }}>{value}</Typography>\r\n      </Box>\r\n    </Tooltip>\r\n  );\r\n\r\n  const SectionCard: React.FC<{ title: string; icon: React.ReactNode; onEdit: () => void; children: React.ReactNode; }>=({ title, icon, onEdit, children }) => (\r\n    <Paper elevation={0} sx={{ p:2.5, border:'1px solid', borderColor:'divider', borderRadius:3, position:'relative' }}>\r\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" sx={{ mb:1 }}>\r\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n          <Box sx={{ width:34, height:34, borderRadius:'50%', bgcolor:'primary.main', color:'#fff', display:'flex', alignItems:'center', justifyContent:'center' }}>\r\n            {icon}\r\n          </Box>\r\n          <Typography variant=\"subtitle1\" sx={{ fontWeight:600 }}>{title}</Typography>\r\n        </Stack>\r\n        <Tooltip title=\"Edit section\"><IconButton size=\"small\" onClick={onEdit}><EditOutlinedIcon fontSize=\"small\" /></IconButton></Tooltip>\r\n      </Stack>\r\n      <Divider sx={{ mb:2 }} />\r\n      {children}\r\n    </Paper>\r\n  );\r\n\r\n  const renderDocChip = (doc?: typeof documents[number], label?: string) => {\r\n    if (!doc) return <Chip size=\"small\" label={`${label || 'Document'} Missing`} color=\"default\" variant=\"outlined\" />;\r\n    const mismatch = doc.verificationNotes?.includes('mismatch');\r\n    return (\r\n      <Tooltip title={doc.verificationNotes || ''}>\r\n        <Chip\r\n          size=\"small\"\r\n            label={(label || doc.type) + (mismatch ? ' • Mismatch' : '')}\r\n            color={doc.status === 'verified' ? (mismatch ? 'error' : 'success') : doc.status === 'verifying' ? 'warning' : doc.status === 'error' ? 'error' : 'default'}\r\n            variant={doc.status === 'verified' ? 'filled' : 'outlined'}\r\n          />\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  const jumpFirstIssue = () => {\r\n    if (readiness.ok) return;\r\n    if (!loanReady) return goTo(1); // calculator step index\r\n    if (!docsReady || anyMismatch) return goTo(2);\r\n  };\r\n\r\n  const exportSummary = () => {\r\n    try {\r\n      const summaryData = {\r\n        generatedAt: new Date().toISOString(),\r\n        customer,\r\n        loan,\r\n        documents: documents.map(d => ({ type: d.type, status: d.status, notes: d.verificationNotes })),\r\n        readiness\r\n      };\r\n      \r\n      const pdfFile = generateApplicationPDF(summaryData);\r\n      const url = URL.createObjectURL(pdfFile);\r\n      const a = document.createElement('a');\r\n      a.href = url; \r\n      a.download = pdfFile.name; \r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Failed to generate PDF:', error);\r\n      // Fallback to JSON if PDF generation fails\r\n      const summary = {\r\n        generatedAt: new Date().toISOString(),\r\n        customer,\r\n        loan,\r\n        documents: documents.map(d => ({ type: d.type, status: d.status, notes: d.verificationNotes })),\r\n        readiness\r\n      };\r\n      const blob = new Blob([JSON.stringify(summary, null, 2)], { type:'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url; a.download = 'application-summary.json'; a.click();\r\n      URL.revokeObjectURL(url);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Box onClick={jumpFirstIssue} sx={{ mb:3, p:2.5, borderRadius:3, background: readiness.ok ? 'linear-gradient(90deg,#093B18,#2E7D32)' : 'linear-gradient(90deg,#4a1c00,#b54708)' , color:'#fff', display:'flex', alignItems:'center', gap:2, flexWrap:'wrap', cursor: readiness.ok ? 'default':'pointer', position:'relative' }}>\r\n        {readiness.ok ? <CheckCircleOutlineIcon /> : <WarningAmberIcon />}\r\n        <Box sx={{ flex:1, minWidth:240 }}>\r\n          <Typography variant=\"subtitle1\" sx={{ fontWeight:700 }}>{readiness.ok ? 'All Sections Ready' : 'Action Recommended (click to jump)'}</Typography>\r\n          {!readiness.ok && (\r\n            <Typography variant=\"caption\" sx={{ opacity:0.9, display:'block', mt:0.5 }}>\r\n              {readiness.issues.join(' • ')}\r\n            </Typography>\r\n          )}\r\n        </Box>\r\n        <Stack direction=\"row\" spacing={1} alignItems=\"center\">\r\n          <Box sx={{ position:'relative', width:42, height:42 }}>\r\n            <CircularProgress size={42} variant=\"determinate\" value={100} sx={{ color:'rgba(255,255,255,0.25)', position:'absolute', left:0, top:0 }} />\r\n            <CircularProgress size={42} variant=\"determinate\" value={animatedProgress} sx={{ color:'#fff', transition:'none' }} />\r\n            <Box sx={{ position:'absolute', inset:0, display:'flex', alignItems:'center', justifyContent:'center' }}>\r\n              <Typography variant=\"caption\" sx={{ fontSize:10, fontWeight:700 }}>{Math.round(animatedProgress)}%</Typography>\r\n            </Box>\r\n          </Box>\r\n          <Tooltip title=\"Download summary JSON\"><span><IconButton size=\"small\" color=\"inherit\" onClick={(e)=>{ e.stopPropagation(); exportSummary(); }}><DownloadIcon fontSize=\"small\" /></IconButton></span></Tooltip>\r\n        </Stack>\r\n      </Box>\r\n      <Box sx={{ display:'grid', gap:3, gridTemplateColumns:{ xs:'1fr', md:'1fr 1fr' } }}>\r\n        <Box>\r\n          <SectionCard title=\"Customer\" icon={<PersonOutlineIcon fontSize=\"small\" />} onEdit={() => goTo(0)}>\r\n            <Stack spacing={0.75}>\r\n              <Typography variant=\"body2\"><strong>Name:</strong> {customer.firstName || '-'} {customer.lastName || ''}</Typography>\r\n              <Typography variant=\"body2\"><strong>Email:</strong> {customer.email || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>Phone:</strong> {customer.phone || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>NRC:</strong> {customer.nrc || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>Bank:</strong> {customer.bankName || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>Account Number:</strong> {customer.accountNumber || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>Branch:</strong> {customer.bankBranch || '-'}</Typography>\r\n              <Typography variant=\"body2\"><strong>Account Type:</strong> {customer.accountType || '-'}</Typography>\r\n            </Stack>\r\n          </SectionCard>\r\n        </Box>\r\n        <Box>\r\n          <SectionCard title=\"Loan\" icon={<CalculateOutlinedIcon fontSize=\"small\" />} onEdit={() => goTo(1)}>\r\n            {loan.emiResult ? (\r\n              <Box sx={{ display:'flex', flexWrap:'wrap', gap:1, mt:-1 }}>\r\n                <Metric label=\"Principal\" value={`ZMW ${loan.amount?.toLocaleString()}`} accent />\r\n                <Metric label=\"Monthly\" value={`ZMW ${loan.emiResult.monthlyInstallment.toLocaleString()}`} />\r\n                <Metric label=\"Total Interest\" value={`ZMW ${loan.emiResult.totalInterest.toLocaleString()}`} />\r\n                <Metric label=\"Total Payable\" value={`ZMW ${loan.emiResult.totalPayable.toLocaleString()}`} />\r\n              </Box>\r\n            ) : (\r\n              <Typography variant=\"caption\" sx={{ color:'text.secondary' }}>Loan calculation not completed.</Typography>\r\n            )}\r\n            <Box sx={{ mt:1.5 }}>\r\n              <Typography variant=\"caption\" sx={{ color:'text.secondary' }}>Tenure: {loan.tenureMonths || '-'} months</Typography>\r\n            </Box>\r\n          </SectionCard>\r\n        </Box>\r\n        <Box sx={{ gridColumn:{ md:'1 / span 2' } }}>\r\n          <SectionCard title=\"Documents\" icon={<FolderOpenIcon fontSize=\"small\" />} onEdit={() => goTo(2)}>\r\n            <Stack direction=\"row\" spacing={1} flexWrap=\"wrap\" sx={{ mb:1 }}>\r\n              {renderDocChip(nrcFront, 'NRC Front')}\r\n              {renderDocChip(nrcBack, 'NRC Back')}\r\n              {renderDocChip(payslip1, 'Payslip 1')}\r\n              {renderDocChip(payslip2, 'Payslip 2')}\r\n              {renderDocChip(payslip3, 'Payslip 3')}\r\n              {renderDocChip(referenceLetter, 'Ref Letter')}\r\n              {renderDocChip(workId, 'Work ID')}\r\n              {renderDocChip(selfie, 'Selfie')}\r\n              {renderDocChip(bank, 'Bank Statement')}\r\n            </Stack>\r\n            <Stack direction=\"row\" spacing={2} flexWrap=\"wrap\" sx={{ mt:1 }}>\r\n              {nrcFront?.previewUrl && (\r\n                <Box sx={{ textAlign:'center' }}>\r\n                  <img src={nrcFront.previewUrl} alt=\"NRC Front\" style={{ width:90, height:60, objectFit:'cover', borderRadius:6, border:'1px solid rgba(0,0,0,0.15)' }} />\r\n                  <Typography variant=\"caption\" sx={{ display:'block', mt:0.5 }}>Front</Typography>\r\n                </Box>\r\n              )}\r\n              {nrcBack?.previewUrl && (\r\n                <Box sx={{ textAlign:'center' }}>\r\n                  <img src={nrcBack.previewUrl} alt=\"NRC Back\" style={{ width:90, height:60, objectFit:'cover', borderRadius:6, border:'1px solid rgba(0,0,0,0.15)' }} />\r\n                  <Typography variant=\"caption\" sx={{ display:'block', mt:0.5 }}>Back</Typography>\r\n                </Box>\r\n              )}\r\n            </Stack>\r\n            <Typography variant=\"caption\" sx={{ mt:1.5, display:'block', color:'text.secondary' }}>\r\n              Documents are preliminarily verified client-side; final validation occurs after submission.\r\n            </Typography>\r\n          </SectionCard>\r\n        </Box>\r\n      </Box>\r\n      {/* Risks & Changes Section */}\r\n      <Box sx={{ mt:4, display:'grid', gap:3, gridTemplateColumns:{ xs:'1fr', md:'1fr 1fr' } }}>\r\n        <Paper elevation={0} sx={{ p:2.5, border:'1px solid', borderColor:'divider', borderRadius:3 }}>\r\n          <Typography variant=\"subtitle2\" sx={{ fontWeight:600, mb:1 }}>Risks / Flags</Typography>\r\n          {readiness.issues.length === 0 && <Typography variant=\"caption\" sx={{ color:'text.secondary' }}>No outstanding issues.</Typography>}\r\n          <Stack spacing={0.75}>\r\n            {readiness.issues.map((iss,i)=>(\r\n              <Stack key={i} direction=\"row\" spacing={1} alignItems=\"center\">\r\n                <WarningAmberIcon fontSize=\"inherit\" style={{ color:'#b54708', fontSize:16 }} />\r\n                <Typography variant=\"caption\">{iss}</Typography>\r\n              </Stack>\r\n            ))}\r\n          </Stack>\r\n        </Paper>\r\n        <Paper elevation={0} sx={{ p:2.5, border:'1px solid', borderColor:'divider', borderRadius:3, position:'relative' }}>\r\n          <Typography variant=\"subtitle2\" sx={{ fontWeight:600, mb:1 }}>Changes Since Opening</Typography>\r\n          {diffs.length === 0 && <Typography variant=\"caption\" sx={{ color:'text.secondary' }}>No changes recorded this session.</Typography>}\r\n          <Stack spacing={0.5}>\r\n            {diffs.map((d,i)=>(<Typography key={i} variant=\"caption\">• {d}</Typography>))}\r\n          </Stack>\r\n          <Box sx={{ mt:1.5 }}>\r\n            <Button size=\"small\" variant=\"text\" onClick={resetBaseline} disabled={diffs.length===0}>Reset Baseline</Button>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n  <Paper elevation={0} sx={{ mt:4, p:2.5, borderRadius:3, border:'1px solid', borderColor:'divider', background:'linear-gradient(90deg,#011A41 0%, #07306E 60%)', color:'#fff' }}>\r\n        <Stack direction={{ xs:'column', sm:'row' }} spacing={2} alignItems={{ xs:'flex-start', sm:'center' }}>\r\n          <DescriptionIcon />\r\n          <Box sx={{ flex:1 }}>\r\n            <Typography variant=\"subtitle2\" sx={{ fontWeight:600 }}>Declaration</Typography>\r\n            <Typography variant=\"caption\" sx={{ display:'block', mt:0.5, opacity:0.9 }}>\r\n              By submitting you confirm the information is accurate and you consent to processing for loan assessment.\r\n            </Typography>\r\n          </Box>\r\n        </Stack>\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z\"\n}), 'Download');"],"names":["createSvgIcon","_jsx","d","formatCurrency","amount","num","parseFloat","isNaN","String","concat","toLocaleString","generateApplicationPDF","data","_data$readiness","_data$customer","_data$customer2","_data$customer3","pdf","jsPDF","yPosition","pageWidth","internal","pageSize","width","margin","addText","text","x","fontSize","arguments","length","undefined","isBold","setFontSize","setFont","addPage","addSection","title","addField","label","value","setFillColor","rect","setTextColor","dateString","Date","_unused","formatDate","generatedAt","readiness","ok","customer","firstName","lastName","nrc","phone","email","address","gender","nationality","otherNationality","occupation","maritalStatus","accommodationType","employerName","payrollNumber","purpose","nextOfKin","nok","trim","relationship","reference","ref","name","loan","tenureMonths","productCode","emiResult","emi","monthlyEmi","totalInterest","totalPayable","interestRateAnnual","documents","forEach","doc","docName","getDocumentDisplayName","type","status","statusText","charAt","toUpperCase","slice","notes","issues","issue","pageHeight","height","pdfBlob","output","clientNRC","replace","fileName","toISOString","split","File","l","ReviewStep","_loan$amount","goTo","useWizard","useWizardData","window","__reviewStepValidate","async","nrcFront","find","nrcBack","payslip1","payslip2","payslip3","referenceLetter","workId","selfie","bank","anyMismatch","some","_d$verificationNotes","verificationNotes","includes","loanReady","docsReady","every","p","useMemo","push","progressPct","pct","requiredList","filter","Math","min","round","animatedProgress","setAnimatedProgress","useState","useEffect","start","end","startTime","performance","now","frame","tick","elapsed","t","eased","pow","easeOutCubic","requestAnimationFrame","cancelAnimationFrame","initialSnapshot","setInitialSnapshot","existing","sessionStorage","getItem","JSON","parse","snap","map","setItem","stringify","diffs","changes","k","prev","metricInfo","Principal","Monthly","Metric","_ref","accent","Tooltip","placement","arrow","children","_jsxs","Box","sx","flex","minWidth","cursor","borderRadius","background","Typography","variant","letterSpacing","color","fontWeight","mt","SectionCard","_ref2","icon","onEdit","Paper","elevation","border","borderColor","position","Stack","direction","alignItems","justifyContent","mb","spacing","bgcolor","display","IconButton","size","onClick","EditOutlinedIcon","Divider","renderDocChip","_doc$verificationNote","Chip","mismatch","jumpFirstIssue","gap","flexWrap","CheckCircleOutlineIcon","WarningAmberIcon","opacity","join","CircularProgress","left","top","transition","inset","e","stopPropagation","exportSummary","summaryData","pdfFile","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","error","console","summary","blob","Blob","DownloadIcon","gridTemplateColumns","xs","md","PersonOutlineIcon","bankName","accountNumber","bankBranch","accountType","CalculateOutlinedIcon","monthlyInstallment","gridColumn","FolderOpenIcon","previewUrl","textAlign","src","alt","style","objectFit","iss","i","Button","resetBaseline","disabled","sm","DescriptionIcon"],"sourceRoot":""}