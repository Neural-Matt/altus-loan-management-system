"use strict";(self.webpackChunkaltus_loan_application_portal=self.webpackChunkaltus_loan_application_portal||[]).push([[239,408],{239:(e,t,n)=>{n.d(t,{CalculatorStep:()=>Pe});var a=n(5043),o=n(4858),r=n(1850),i=n(624),s=n(3969),l=n(5895),c=n(4799),m=n(298),d=n(6370),u=n(2332),p=n(9379),h=n(45),y=n(8387),g=n(1807),A=n(7194),x=n(8736),v=n(8700),b=n(8128),f=n(1612),j=n(8301),M=n(9857),P=n(6061);function w(e){return(0,P.Ay)("MuiInputAdornment",e)}const R=(0,M.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var S=n(579);const T=["children","className","component","disablePointerEvents","disableTypography","position","variant"];var k;const C=(0,b.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,A.A)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((0,f.A)(e=>{let{theme:t}=e;return{display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{["&.".concat(R.positionStart,"&:not(.").concat(R.hiddenLabel,")")]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}})),Y=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiInputAdornment"}),{children:o,className:r,component:i="div",disablePointerEvents:s=!1,disableTypography:c=!1,position:m,variant:d}=n,u=(0,h.A)(n,T),b=(0,v.A)()||{};let f=d;d&&b.variant,b&&!f&&(f=b.variant);const M=(0,p.A)((0,p.A)({},n),{},{hiddenLabel:b.hiddenLabel,size:b.size,disablePointerEvents:s,position:m,variant:f}),P=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:a,position:o,size:r,variant:i}=e,s={root:["root",n&&"disablePointerEvents",o&&"position".concat((0,A.A)(o)),i,a&&"hiddenLabel",r&&"size".concat((0,A.A)(r))]};return(0,g.A)(s,w,t)})(M);return(0,S.jsx)(x.A.Provider,{value:null,children:(0,S.jsx)(C,(0,p.A)((0,p.A)({as:i,ownerState:M,className:(0,y.A)(P.root,r),ref:t},u),{},{children:"string"!==typeof o||c?(0,S.jsxs)(a.Fragment,{children:["start"===m?k||(k=(0,S.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):null,o]}):(0,S.jsx)(l.A,{color:"textSecondary",children:o})}))})});var N=n(4527),I=n(2579),E=n(8065),z=n(9e3);function H(e){return(0,P.Ay)("MuiTableContainer",e)}(0,M.A)("MuiTableContainer",["root"]);const L=["className","component"],B=(0,b.Ay)("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),q=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableContainer"}),{className:a,component:o="div"}=n,r=(0,h.A)(n,L),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,g.A)({root:["root"]},H,t)})(i);return(0,S.jsx)(B,(0,p.A)({ref:t,as:o,className:(0,y.A)(s.root,a),ownerState:i},r))});const F=a.createContext();function W(e){return(0,P.Ay)("MuiTable",e)}(0,M.A)("MuiTable",["root","stickyHeader"]);const _=["className","component","padding","size","stickyHeader"],D=(0,b.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((0,f.A)(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,p.A)((0,p.A)({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),O="table",Z=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTable"}),{className:o,component:r=O,padding:i="normal",size:s="medium",stickyHeader:l=!1}=n,c=(0,h.A)(n,_),m=(0,p.A)((0,p.A)({},n),{},{component:r,padding:i,size:s,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e,a={root:["root",n&&"stickyHeader"]};return(0,g.A)(a,W,t)})(m),u=a.useMemo(()=>({padding:i,size:s,stickyHeader:l}),[i,s,l]);return(0,S.jsx)(F.Provider,{value:u,children:(0,S.jsx)(D,(0,p.A)({as:r,role:r===O?null:"table",ref:t,className:(0,y.A)(d.root,o),ownerState:m},c))})});const G=a.createContext();function U(e){return(0,P.Ay)("MuiTableHead",e)}(0,M.A)("MuiTableHead",["root"]);const X=["className","component"],V=(0,b.Ay)("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),K={variant:"head"},J="thead",Q=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableHead"}),{className:a,component:o=J}=n,r=(0,h.A)(n,X),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,g.A)({root:["root"]},U,t)})(i);return(0,S.jsx)(G.Provider,{value:K,children:(0,S.jsx)(V,(0,p.A)({as:o,className:(0,y.A)(s.root,a),ref:t,role:o===J?null:"rowgroup",ownerState:i},r))})});function $(e){return(0,P.Ay)("MuiTableRow",e)}const ee=(0,M.A)("MuiTableRow",["root","selected","hover","head","footer"]),te=["className","component","hover","selected"],ne=(0,b.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((0,f.A)(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(ee.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(ee.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))}}}})),ae="tr",oe=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableRow"}),{className:o,component:r=ae,hover:i=!1,selected:s=!1}=n,l=(0,h.A)(n,te),c=a.useContext(G),m=(0,p.A)((0,p.A)({},n),{},{component:r,hover:i,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:a,head:o,footer:r}=e,i={root:["root",n&&"selected",a&&"hover",o&&"head",r&&"footer"]};return(0,g.A)(i,$,t)})(m);return(0,S.jsx)(ne,(0,p.A)({as:r,ref:t,className:(0,y.A)(d.root,o),role:r===ae?null:"row",ownerState:m},l))}),re=oe;function ie(e){return(0,P.Ay)("MuiTableCell",e)}const se=(0,M.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),le=["align","className","component","padding","scope","size","sortDirection","variant"],ce=(0,b.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,A.A)(n.size))],"normal"!==n.padding&&t["padding".concat((0,A.A)(n.padding))],"inherit"!==n.align&&t["align".concat((0,A.A)(n.align))],n.stickyHeader&&t.stickyHeader]}})((0,f.A)(e=>{let{theme:t}=e;return(0,p.A)((0,p.A)({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(se.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})})),me=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableCell"}),{align:o="inherit",className:r,component:i,padding:s,scope:l,size:c,sortDirection:m,variant:d}=n,u=(0,h.A)(n,le),x=a.useContext(F),v=a.useContext(G),b=v&&"head"===v.variant;let f;f=i||(b?"th":"td");let M=l;"td"===f?M=void 0:!M&&b&&(M="col");const P=d||v&&v.variant,w=(0,p.A)((0,p.A)({},n),{},{align:o,component:f,padding:s||(x&&x.padding?x.padding:"normal"),size:c||(x&&x.size?x.size:"medium"),sortDirection:m,stickyHeader:"head"===P&&x&&x.stickyHeader,variant:P}),R=(e=>{const{classes:t,variant:n,align:a,padding:o,size:r,stickyHeader:i}=e,s={root:["root",n,i&&"stickyHeader","inherit"!==a&&"align".concat((0,A.A)(a)),"normal"!==o&&"padding".concat((0,A.A)(o)),"size".concat((0,A.A)(r))]};return(0,g.A)(s,ie,t)})(w);let T=null;return m&&(T="asc"===m?"ascending":"descending"),(0,S.jsx)(ce,(0,p.A)({as:f,ref:t,className:(0,y.A)(R.root,r),"aria-sort":T,scope:M,ownerState:w},u))}),de=me;function ue(e){return(0,P.Ay)("MuiTableBody",e)}(0,M.A)("MuiTableBody",["root"]);const pe=["className","component"],he=(0,b.Ay)("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),ye={variant:"body"},ge="tbody",Ae=a.forwardRef(function(e,t){const n=(0,j.b)({props:e,name:"MuiTableBody"}),{className:a,component:o=ge}=n,r=(0,h.A)(n,pe),i=(0,p.A)((0,p.A)({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return(0,g.A)({root:["root"]},ue,t)})(i);return(0,S.jsx)(G.Provider,{value:ye,children:(0,S.jsx)(he,(0,p.A)({className:(0,y.A)(s.root,a),as:o,ref:t,role:o===ge?null:"rowgroup",ownerState:i},r))})});var xe=n(5272),ve=n(7305),be=n(8555),fe=n(3267),je=n(8408),Me=n(4332);const Pe=()=>{var e,t;const{loan:n,setLoan:p}=(0,fe.l)(),{push:h}=(0,Me.d)(),[y,g]=(0,a.useState)(null),[A,x]=(0,a.useState)("instant-salary-advance"),[v,b]=(0,a.useState)(!1),f=(0,je.Pj)(),{control:j,handleSubmit:M,watch:P,reset:w}=(0,o.mN)({defaultValues:{amount:n.amount||0,tenureMonths:n.tenureMonths||12},resolver:(0,r.u)(i.i),mode:"onBlur"});(0,a.useEffect)(()=>{w({amount:n.amount||0,tenureMonths:n.tenureMonths||12})},[n,w]);const R=e=>(e=>{g(null);try{if(!e.amount||!e.tenureMonths)return void p({amount:e.amount,tenureMonths:e.tenureMonths,productCode:A,emiResult:void 0});const t=(0,je.computeLocalLoanEstimate)({principal:e.amount,tenureMonths:e.tenureMonths,loanType:A});p({amount:e.amount,tenureMonths:e.tenureMonths,productCode:A,emiResult:{monthlyInstallment:t.monthlyInstallment,totalInterest:t.totalInterest,totalPayable:t.totalPayable,schedule:t.schedule.map(e=>({month:e.month,openingBalance:e.openingBalance,interestPortion:e.interestPortion,principalPortion:e.principalPortion,installment:e.installment,closingBalance:e.closingBalance}))}})}catch(t){g(t.message||"Calculation failed")}})(e);window.__calculatorStepSubmit=async()=>!n.amount||n.amount<100?(h("\u26a0\ufe0f Please enter a loan amount (minimum ZMW 100)","error"),!1):!(!n.tenureMonths||n.tenureMonths<1)||(h("\u26a0\ufe0f Please enter the loan tenure (number of months)","error"),!1);const T=(0,a.useRef)(null),k=P();(0,a.useEffect)(()=>{T.current&&window.clearTimeout(T.current),T.current=window.setTimeout(()=>{M(R)()},250)},[k.amount,k.tenureMonths,A]);const C=e=>"number"!==typeof e||isNaN(e)?"-":e.toLocaleString();return(0,S.jsxs)(s.A,{children:[(0,S.jsx)(l.A,{variant:"h6",gutterBottom:!0,children:"Loan Calculator"}),(0,S.jsxs)(c.A,{elevation:0,sx:{mb:3,p:{xs:2.5,sm:3},borderRadius:3,position:"relative",background:"linear-gradient(135deg, #011A41 0%, #07306E 55%, #73B62B 140%)",color:"#FFFFFF",overflow:"hidden",textAlign:"center"},children:[(0,S.jsx)(s.A,{sx:{position:"absolute",inset:0,opacity:.15,background:"radial-gradient(circle at 85% 15%, #FFFFFF 0%, transparent 60%)"}}),(0,S.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600,mb:1,position:"relative"},children:"Current Estimate"}),n.emiResult?(0,S.jsxs)(m.A,{direction:{xs:"column",md:"row"},spacing:{xs:2.5,md:4},sx:{position:"relative",flexWrap:"wrap",justifyContent:"center"},children:[(0,S.jsx)(we,{label:"Principal",value:"ZMW ".concat(C(n.amount)),emphasized:!0}),(0,S.jsx)(we,{label:"Monthly",value:"ZMW ".concat(C(n.emiResult.monthlyInstallment))}),(0,S.jsx)(we,{label:"Total Payable",value:"ZMW ".concat(C(n.emiResult.totalPayable))}),(0,S.jsx)(we,{label:"Total Interest",value:"ZMW ".concat(C(n.emiResult.totalInterest))}),(0,S.jsx)(we,{label:"Interest %",value:n.emiResult.totalInterest&&n.amount?"".concat(Math.round(n.emiResult.totalInterest/n.amount*100),"%"):"-"})]}):(0,S.jsx)(l.A,{variant:"body2",sx:{opacity:.8,position:"relative"},children:"Enter amount & tenure to see live estimate."}),y&&(0,S.jsx)(l.A,{variant:"caption",sx:{color:"#FFD9D9",mt:1,position:"relative"},children:y}),(0,S.jsx)(l.A,{variant:"caption",sx:{display:"block",mt:2.5,opacity:.65,position:"relative"},children:"Tentative loan calculation for repayment estimation."})]}),(0,S.jsx)(d.A,{color:"primary",exclusive:!0,size:"small",value:A,onChange:(e,t)=>t&&x(t),sx:{mb:2,flexWrap:"wrap",gap:1,"& .MuiToggleButton-root":{px:2,py:.6,borderRadius:999,textTransform:"none",fontSize:12,fontWeight:600},"& .Mui-selected":{bgcolor:"#011A41 !important",color:"#fff !important"}},children:f.map(e=>(0,S.jsx)(u.A,{value:e.key,children:e.name},e.key))}),(0,S.jsxs)(s.A,{sx:{display:"grid",gap:2,gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"}},children:[(0,S.jsx)(be.Y,{type:"number",name:"amount",control:j,label:"Amount",InputProps:{startAdornment:(0,S.jsx)(Y,{position:"start",children:"ZMW"}),inputMode:"numeric"}}),(0,S.jsx)(be.Y,{type:"number",name:"tenureMonths",control:j,label:"Tenure (Months) - Max: ".concat((0,je.IZ)(A)),inputProps:{max:(0,je.IZ)(A),min:1}})]}),(0,S.jsx)(N.A,{sx:{my:3}}),(0,S.jsxs)(l.A,{variant:"caption",sx:{mt:0,display:"block",color:"text.secondary"},children:["Live update: amount ",k.amount||"-",", tenure ",k.tenureMonths||"-"," (loan type: ",null===(e=f.find(e=>e.key===A))||void 0===e?void 0:e.name,")"]}),(null===(t=n.emiResult)||void 0===t?void 0:t.schedule)&&(0,S.jsxs)(s.A,{sx:{mt:3},children:[(0,S.jsxs)(m.A,{direction:"row",spacing:1,alignItems:"center",children:[(0,S.jsx)(I.A,{size:"small",onClick:()=>b(e=>!e),"aria-label":v?"Hide amortization schedule":"Show amortization schedule",children:(0,S.jsx)(xe.A,{sx:{transform:v?"rotate(180deg)":"rotate(0deg)",transition:"transform .25s"}})}),(0,S.jsx)(l.A,{variant:"subtitle2",sx:{fontWeight:600},children:"Amortization Schedule"}),(0,S.jsx)(E.A,{title:"Download CSV of schedule",children:(0,S.jsx)("span",{children:(0,S.jsx)(I.A,{size:"small",onClick:()=>{var e;if(null===(e=n.emiResult)||void 0===e||!e.schedule)return;const t=[["Month","Opening Balance","Interest","Principal","Installment","Closing Balance"],...n.emiResult.schedule.map(e=>[e.month,e.openingBalance,e.interestPortion,e.principalPortion,e.installment,e.closingBalance])].map(e=>e.join(",")).join("\n"),a=new Blob([t],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download="amortization_".concat(Date.now(),".csv"),r.click(),URL.revokeObjectURL(o)},"aria-label":"Export schedule CSV",children:(0,S.jsx)(ve.A,{fontSize:"small"})})})})]}),(0,S.jsx)(z.A,{in:v,timeout:"auto",unmountOnExit:!0,children:(0,S.jsx)(q,{sx:{mt:1.5,maxHeight:280,border:"1px solid",borderColor:"divider",borderRadius:2},children:(0,S.jsxs)(Z,{size:"small",stickyHeader:!0,children:[(0,S.jsx)(Q,{children:(0,S.jsx)(re,{children:["Month","Opening","Interest","Principal","Install","Closing"].map(e=>(0,S.jsx)(de,{sx:{fontSize:12,fontWeight:600},children:e},e))})}),(0,S.jsx)(Ae,{children:n.emiResult.schedule.map(e=>(0,S.jsxs)(re,{children:[(0,S.jsx)(de,{children:e.month}),(0,S.jsx)(de,{children:e.openingBalance.toLocaleString()}),(0,S.jsx)(de,{children:e.interestPortion.toLocaleString()}),(0,S.jsx)(de,{children:e.principalPortion.toLocaleString()}),(0,S.jsx)(de,{children:e.installment.toLocaleString()}),(0,S.jsx)(de,{children:e.closingBalance.toLocaleString()})]},e.month))})]})})})]})]})},we=e=>{let{label:t,value:n,emphasized:a}=e;return(0,S.jsxs)(s.A,{sx:{minWidth:{xs:120,md:140},px:.5},children:[(0,S.jsx)(l.A,{variant:"caption",sx:{letterSpacing:.7,opacity:.75},children:t.toUpperCase()}),(0,S.jsx)(l.A,{variant:a?"h5":"h6",sx:{fontWeight:800,lineHeight:1.05,mt:.5,letterSpacing:.3,textShadow:"0 2px 6px rgba(0,0,0,0.25)",animation:"fadeSlide 0.45s ease"},children:n},String(n)),(0,S.jsx)("style",{children:"@keyframes fadeSlide { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }"})]})}},624:(e,t,n)=>{n.d(t,{i:()=>s,y:()=>i});var a=n(5849);const o=a.YjP().optional().refine(e=>!e||/.+@.+\..+/.test(e),{message:"Invalid email"}),r=a.YjP().min(9,{message:"Phone required"}),i=a.Ikc({firstName:a.YjP().min(2,{message:"First name required"}),lastName:a.YjP().min(2,{message:"Last name required"}),phone:r,email:a.YjP().min(1,{message:"Email required"}).email({message:"Invalid email format"}),address:a.YjP().min(5,{message:"Address required"}),nrc:a.YjP().min(5,{message:"NRC required"}),nrcIssueDate:a.YjP().min(1,{message:"NRC issue date required"}),dateOfBirth:a.YjP().min(1,{message:"Date of birth required"}),title:a.YjP().min(1,{message:"Title required"}),city:a.YjP().min(2,{message:"City/District required"}),province:a.YjP().min(2,{message:"Province required"}),postalCode:a.YjP().optional(),preferredBranch:a.YjP().min(2,{message:"Please select your nearest branch"}),purpose:a.YjP().optional(),gender:a.YjP().min(1,{message:"Gender required"}),nationality:a.YjP().optional(),otherNationality:a.YjP().optional(),occupation:a.YjP().optional(),maritalStatus:a.YjP().min(1,{message:"Marital status required"}),accommodationType:a.YjP().optional(),employerName:a.YjP().min(2,{message:"Employer name required"}),employerId:a.YjP().optional(),payrollNumber:a.YjP().optional(),salary:a.auy.number().min(0,{message:"Salary required"}),employmentDate:a.YjP().min(1,{message:"Employment date required"}),employmentType:a.YjP().min(1,{message:"Employment type required"}),bankName:a.YjP().min(2,{message:"Bank name required"}),bankBranch:a.YjP().min(2,{message:"Bank branch required"}),accountNumber:a.YjP().min(5,{message:"Account number required"}),accountType:a.YjP().min(1,{message:"Account type required"}),nextOfKin:a.Ikc({firstName:a.YjP().optional(),lastName:a.YjP().optional(),phone:r.optional(),email:o,address:a.YjP().optional(),city:a.YjP().optional(),province:a.YjP().optional(),nrc:a.YjP().optional(),nationality:a.YjP().optional(),relationship:a.YjP().optional()}).optional(),reference:a.Ikc({name:a.YjP().optional(),phone:r.optional(),email:o,address:a.YjP().optional(),nrc:a.YjP().optional(),relationship:a.YjP().optional()}).optional()}),s=a.Ikc({amount:a.auy.number().min(100,{message:"Min 100"}),tenureMonths:a.auy.number().min(1,{message:"Tenure required"}).max(60,{message:"Max 60 months"})})},7305:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(4057),o=n(579);const r=(0,a.A)((0,o.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},8408:(e,t,n)=>{n.d(t,{IZ:()=>o,Pj:()=>r,computeLocalLoanEstimate:()=>i});const a={"instant-salary-advance":{name:"Instant Salary Advances",maxTenureMonths:3,rateStructure:[{minAmount:500,maxAmount:900,monthlyRate:.3},{minAmount:1e3,maxAmount:2500,monthlyRate:.25},{minAmount:3e3,maxAmount:5e3,monthlyRate:.18}]},"corporate-payroll":{name:"Corporate Payroll",maxTenureMonths:24,rateStructure:[{minAmount:0,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.05}]},"government-personal":{name:"Government Personal Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-army":{name:"Zambia Army Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]},"zambia-airforce":{name:"Zambia Airforce Loans",maxTenureMonths:60,rateStructure:[{minAmount:0,maxAmount:14999,monthlyRate:.05},{minAmount:15e3,maxAmount:Number.MAX_SAFE_INTEGER,monthlyRate:.045}]}};function o(e){return a[e].maxTenureMonths}function r(){return Object.entries(a).map(e=>{let[t,n]=e;return{key:t,name:n.name,maxTenure:n.maxTenureMonths}})}function i(e){let{principal:t,tenureMonths:n,loanType:r="instant-salary-advance"}=e;if(t<=0||n<=0)throw new Error("Principal and tenure must be positive");const i=function(e,t){if("instant-salary-advance"===t){if(e<500)return{valid:!1,message:"Minimum amount for Instant Salary Advances is K500"};if(e>5e3)return{valid:!1,message:"Maximum amount for Instant Salary Advances is K5000"}}return{valid:!0}}(t,r);if(!i.valid)throw new Error(i.message);const s=o(r);if(n>s)throw new Error("Maximum tenure for ".concat(a[r].name," is ").concat(s," months"));const l=function(e,t){const n=a[t].rateStructure.find(t=>e>=t.minAmount&&e<=t.maxAmount);if(!n)throw new Error("No rate structure found for amount ".concat(e," in product ").concat(t));return n.monthlyRate}(t,r),c=Math.round(t*(1+l*n)),m=Math.round(c/n),d=[];let u=t,p=0;for(let a=1;a<=n;a++){const e=u,t=Math.round(e*l);let n=m-t;n>u&&(n=u);const o=e-n;p+=t,d.push({month:a,openingBalance:e,interestPortion:t,principalPortion:n,installment:t+n,closingBalance:o<1?0:o}),u=o}return{monthlyInstallment:m,totalInterest:p,totalPayable:t+p,monthlyRate:l,schedule:d}}},8555:(e,t,n)=>{n.d(t,{Y:()=>c});var a=n(9379),o=n(45),r=(n(5043),n(7564)),i=n(4858),s=n(579);const l=["name","control"],c=e=>{let{name:t,control:n}=e,c=(0,o.A)(e,l);return(0,s.jsx)(i.xI,{name:t,control:n,render:e=>{var t;let{field:n,fieldState:o}=e;return(0,s.jsx)(r.A,(0,a.A)((0,a.A)((0,a.A)({},n),c),{},{fullWidth:!0,error:!!o.error,helperText:null===(t=o.error)||void 0===t?void 0:t.message}))}})}}}]);
//# sourceMappingURL=239.6f769780.chunk.js.map